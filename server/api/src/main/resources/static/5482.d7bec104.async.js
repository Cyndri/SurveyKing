(self.webpackChunksurvey_king=self.webpackChunksurvey_king||[]).push([[5482],{80341:function(){},25482:function(le,w,a){"use strict";a.r(w);var c=a(11849),$=a(83279),_=a(54029),Y=a(79166),h=a(39428),S=a(3182),r=a(94657),d=a(1615),T=a(27484),U=a.n(T),Z=a(67294),V=a(51005),W=a(42285),k=a(3980),H=a(94975),i=a(85893),F=function(){var te,ue=(0,Z.useState)([]),ae=(0,r.Z)(ue,2),Q=ae[0],ce=ae[1],o=(0,Z.useState)(!0),e=(0,r.Z)(o,2),u=e[0],t=e[1],s=(0,Z.useState)([]),b=(0,r.Z)(s,2),f=b[0],x=b[1],P=(0,Z.useState)(),v=(0,r.Z)(P,2),R=v[0],N=v[1],A=(0,H.Z)((0,S.Z)((0,h.Z)().mark(function n(){var l,p;return(0,h.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,k.hi.loadDictItems({dictCode:"repoType"});case 2:return p=m.sent,N((l=p.list)===null||l===void 0?void 0:l[0].itemName),m.abrupt("return",p.list);case 5:case"end":return m.stop()}},n)})));(0,Z.useEffect)(function(){R?k.hi.loadRepo({pageSize:100,category:R}).then(function(n){x(n.list||[])}):x([])},[R]);var g=(0,Z.useRef)({current:1,pageSize:10}),C=function(l){return l.tempSave===0?(0,i.jsx)(Y.Z,{status:"processing",text:"\u8FDB\u884C\u4E2D"}):(0,i.jsx)(Y.Z,{status:"success",text:"\u5DF2\u5B8C\u6210"})};function O(n){return D.apply(this,arguments)}function D(){return D=(0,S.Z)((0,h.Z)().mark(function n(l){var p,y,m,L,ne,G,J;return(0,h.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return u&&!l&&Q.length>0&&(g.current.current=g.current.current+1),p=(0,c.Z)((0,c.Z)({},g.current),{},{current:l||g.current.current}),B.next=4,k.hi.listExercise(p);case 4:return y=B.sent,m=g.current,L=m.pageSize,ne=L===void 0?10:L,G=m.total,J=G===void 0?y.total||0:G,l||(g.current=(0,c.Z)((0,c.Z)({},g.current),{},{total:y.total}),t(J/ne>g.current.current)),B.abrupt("return",y.list);case 8:case"end":return B.stop()}},n)})),D.apply(this,arguments)}var j=function(){var n=(0,S.Z)((0,h.Z)().mark(function l(){var p;return(0,h.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,O();case 2:p=m.sent,ce([].concat((0,$.Z)(Q),(0,$.Z)(p)));case 4:case"end":return m.stop()}},l)}));return function(){return n.apply(this,arguments)}}(),M=function(l){var p=[];return p.push({key:"start",text:l.tempSave===0?"\u7EE7\u7EED\u7B54\u9898":"\u67E5\u770B\u7ED3\u679C",primary:!0,onClick:function(){W.m8.push("/t/".concat(l.repoId,"/").concat(l.answerId))}}),p.push({key:"cancel",text:"\u53D6\u6D88"}),p};return(0,i.jsxs)("div",{children:[(0,i.jsxs)(d.Zb,{style:{margin:8},bodyStyle:{padding:0},children:[(0,i.jsx)(d.mQ,{activeKey:R,onChange:function(l){return N(l)},children:(te=A.value)===null||te===void 0?void 0:te.map(function(n){var l=n.itemName;return(0,i.jsx)(d.mQ.Tab,{title:l},l)})}),(0,i.jsxs)(d.rj,{columns:2,gap:8,style:{paddingBlock:8},children:[f.map(function(n){return(0,i.jsx)(d.Zb,{extra:(0,i.jsx)(V.Z,{}),style:{background:"#f6f6f8"},title:(0,i.jsxs)("div",{style:{fontWeight:"normal",padding:8},children:[n.name,(0,i.jsx)("div",{style:{color:"#a6a6a8"},children:n.description})]}),onClick:function(){W.m8.push("/exercise/".concat(n.id),{state:{name:n.name}})}},n.id)}),(0,i.jsx)(d.rj.Item,{span:2,children:f.length===0&&(0,i.jsx)(d.HY,{description:"\u6682\u65E0\u6570\u636E"})})]})]}),(0,i.jsxs)(d.Zb,{title:"\u7EC3\u4E60\u8BB0\u5F55",style:{margin:8},bodyStyle:{padding:0},children:[(0,i.jsx)(d.aV,{children:Q.map(function(n,l){return(0,i.jsxs)(d.aV.Item,{onClick:function(){d.u_.show({content:n.projectName,closeOnAction:!0,actions:M(n)})},extra:C(n),description:n.createTime?U()(n.examStartTime).format("YYYY-MM-DD HH:mm"):void 0,children:[n.projectName,(0,i.jsx)(d.ko,{percent:n.percent,style:{"--fill-color":n.tempSave===0?"var(--adm-color-primary)":"var(--adm-color-success)"}})]},l)})}),(0,i.jsx)(d.v_,{loadMore:j,hasMore:u})]})]})};w.default=F},79166:function(le,w,a){"use strict";a.d(w,{Z:function(){return ce}});var c=a(96156),$=a(90484),_=a(22122),Y=a(94184),h=a.n(Y),S=a(5461),r=a(67294),d=a(53124),T=a(96159),U=a(98787);function Z(o){return U.Y.indexOf(o)!==-1}var V=function(e){var u,t=e.className,s=e.prefixCls,b=e.style,f=e.color,x=e.children,P=e.text,v=e.placement,R=v===void 0?"end":v,N=r.useContext(d.E_),A=N.getPrefixCls,g=N.direction,C=A("ribbon",s),O=Z(f),D=h()(C,"".concat(C,"-placement-").concat(R),(u={},(0,c.Z)(u,"".concat(C,"-rtl"),g==="rtl"),(0,c.Z)(u,"".concat(C,"-color-").concat(f),O),u),t),j={},M={};return f&&!O&&(j.background=f,M.color=f),r.createElement("div",{className:"".concat(C,"-wrapper")},x,r.createElement("div",{className:D,style:(0,_.Z)((0,_.Z)({},j),b)},r.createElement("span",{className:"".concat(C,"-text")},P),r.createElement("div",{className:"".concat(C,"-corner"),style:M})))},W=V,k=a(28481);function H(o){var e=o.prefixCls,u=o.value,t=o.current,s=o.offset,b=s===void 0?0:s,f;return b&&(f={position:"absolute",top:"".concat(b,"00%"),left:0}),r.createElement("span",{style:f,className:h()("".concat(e,"-only-unit"),{current:t})},u)}function i(o,e,u){for(var t=o,s=0;(t+10)%10!==e;)t+=u,s+=u;return s}function F(o){var e=o.prefixCls,u=o.count,t=o.value,s=Number(t),b=Math.abs(u),f=r.useState(s),x=(0,k.Z)(f,2),P=x[0],v=x[1],R=r.useState(b),N=(0,k.Z)(R,2),A=N[0],g=N[1],C=function(){v(s),g(b)};r.useEffect(function(){var y=setTimeout(function(){C()},1e3);return function(){clearTimeout(y)}},[s]);var O,D;if(P===s||Number.isNaN(s)||Number.isNaN(P))O=[r.createElement(H,(0,_.Z)({},o,{key:s,current:!0}))],D={transition:"none"};else{O=[];for(var j=s+10,M=[],n=s;n<=j;n+=1)M.push(n);var l=M.findIndex(function(y){return y%10===P});O=M.map(function(y,m){var L=y%10;return r.createElement(H,(0,_.Z)({},o,{key:y,value:L,offset:m-l,current:m===l}))});var p=A<b?1:-1;D={transform:"translateY(".concat(-i(P,s,p),"00%)")}}return r.createElement("span",{className:"".concat(e,"-only"),style:D,onTransitionEnd:C},O)}var I=function(o,e){var u={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&e.indexOf(t)<0&&(u[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(o);s<t.length;s++)e.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(o,t[s])&&(u[t[s]]=o[t[s]]);return u},te=function(e){var u=e.prefixCls,t=e.count,s=e.className,b=e.motionClassName,f=e.style,x=e.title,P=e.show,v=e.component,R=v===void 0?"sup":v,N=e.children,A=I(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),g=r.useContext(d.E_),C=g.getPrefixCls,O=C("scroll-number",u),D=(0,_.Z)((0,_.Z)({},A),{"data-show":P,style:f,className:h()(O,s,b),title:x}),j=t;if(t&&Number(t)%1==0){var M=String(t).split("");j=M.map(function(n,l){return r.createElement(F,{prefixCls:O,count:Number(t),value:n,key:M.length-l})})}return f&&f.borderColor&&(D.style=(0,_.Z)((0,_.Z)({},f),{boxShadow:"0 0 0 1px ".concat(f.borderColor," inset")})),N?(0,T.Tm)(N,function(n){return{className:h()("".concat(O,"-custom-component"),n==null?void 0:n.className,b)}}):r.createElement(R,D,j)},ue=te,ae=function(o,e){var u={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&e.indexOf(t)<0&&(u[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(o);s<t.length;s++)e.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(o,t[s])&&(u[t[s]]=o[t[s]]);return u},Q=function(e){var u,t,s=e.prefixCls,b=e.scrollNumberPrefixCls,f=e.children,x=e.status,P=e.text,v=e.color,R=e.count,N=R===void 0?null:R,A=e.overflowCount,g=A===void 0?99:A,C=e.dot,O=C===void 0?!1:C,D=e.size,j=D===void 0?"default":D,M=e.title,n=e.offset,l=e.style,p=e.className,y=e.showZero,m=y===void 0?!1:y,L=ae(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),ne=r.useContext(d.E_),G=ne.getPrefixCls,J=ne.direction,E=G("badge",s),B=N>g?"".concat(g,"+"):N,ie=x!=null||v!=null,de=B==="0"||B===0,re=O&&!de,X=re?"":B,q=(0,r.useMemo)(function(){var K=X==null||X==="";return(K||de&&!m)&&!re},[X,de,m,re]),me=(0,r.useRef)(N);q||(me.current=N);var ee=me.current,_e=(0,r.useRef)(X);q||(_e.current=X);var fe=_e.current,pe=(0,r.useRef)(re);q||(pe.current=re);var se=(0,r.useMemo)(function(){if(!n)return(0,_.Z)({},l);var K={marginTop:n[1]};return J==="rtl"?K.left=parseInt(n[0],10):K.right=-parseInt(n[0],10),(0,_.Z)((0,_.Z)({},K),l)},[J,n,l]),Ce=M!=null?M:typeof ee=="string"||typeof ee=="number"?ee:void 0,Ee=q||!P?null:r.createElement("span",{className:"".concat(E,"-status-text")},P),he=!ee||(0,$.Z)(ee)!=="object"?void 0:(0,T.Tm)(ee,function(K){return{style:(0,_.Z)((0,_.Z)({},se),K.style)}}),be=h()((u={},(0,c.Z)(u,"".concat(E,"-status-dot"),ie),(0,c.Z)(u,"".concat(E,"-status-").concat(x),!!x),(0,c.Z)(u,"".concat(E,"-status-").concat(v),Z(v)),u)),ye={};v&&!Z(v)&&(ye.background=v);var ge=h()(E,(t={},(0,c.Z)(t,"".concat(E,"-status"),ie),(0,c.Z)(t,"".concat(E,"-not-a-wrapper"),!f),(0,c.Z)(t,"".concat(E,"-rtl"),J==="rtl"),t),p);if(!f&&ie){var xe=se.color;return r.createElement("span",(0,_.Z)({},L,{className:ge,style:se}),r.createElement("span",{className:be,style:ye}),P&&r.createElement("span",{style:{color:xe},className:"".concat(E,"-status-text")},P))}return r.createElement("span",(0,_.Z)({},L,{className:ge}),f,r.createElement(S.default,{visible:!q,motionName:"".concat(E,"-zoom"),motionAppear:!1,motionDeadline:1e3},function(K){var z,Ne=K.className,Ze=G("scroll-number",b),ve=pe.current,Pe=h()((z={},(0,c.Z)(z,"".concat(E,"-dot"),ve),(0,c.Z)(z,"".concat(E,"-count"),!ve),(0,c.Z)(z,"".concat(E,"-count-sm"),j==="small"),(0,c.Z)(z,"".concat(E,"-multiple-words"),!ve&&fe&&fe.toString().length>1),(0,c.Z)(z,"".concat(E,"-status-").concat(x),!!x),(0,c.Z)(z,"".concat(E,"-status-").concat(v),Z(v)),z)),oe=(0,_.Z)({},se);return v&&!Z(v)&&(oe=oe||{},oe.background=v),r.createElement(ue,{prefixCls:Ze,show:!q,motionClassName:Ne,className:Pe,count:fe,title:Ce,style:oe,key:"scrollNumber"},he)}),Ee)};Q.Ribbon=W;var ce=Q},54029:function(le,w,a){"use strict";var c=a(38663),$=a.n(c),_=a(80341),Y=a.n(_)},94975:function(le,w,a){"use strict";a.d(w,{Z:function(){return h}});var c=a(67294),$=a(65353);function _(){var S=(0,c.useRef)(!1),r=(0,c.useCallback)(function(){return S.current},[]);return(0,c.useEffect)(function(){return S.current=!0,function(){S.current=!1}},[]),r}function Y(S,r,d){r===void 0&&(r=[]),d===void 0&&(d={loading:!1});var T=(0,c.useRef)(0),U=_(),Z=(0,c.useState)(d),V=Z[0],W=Z[1],k=(0,c.useCallback)(function(){for(var H=[],i=0;i<arguments.length;i++)H[i]=arguments[i];var F=++T.current;return V.loading||W(function(I){return(0,$.pi)((0,$.pi)({},I),{loading:!0})}),S.apply(void 0,H).then(function(I){return U()&&F===T.current&&W({value:I,loading:!1}),I},function(I){return U()&&F===T.current&&W({error:I,loading:!1}),I})},r);return[V,k]}function h(S,r){r===void 0&&(r=[]);var d=Y(S,r,{loading:!0}),T=d[0],U=d[1];return(0,c.useEffect)(function(){U()},[U]),T}}}]);
