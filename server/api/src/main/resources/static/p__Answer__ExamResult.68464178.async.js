(self.webpackChunksurvey_king=self.webpackChunksurvey_king||[]).push([[1843],{23538:function(S,E,t){"use strict";t.d(E,{Z:function(){return g}});var d=t(28991),s=t(67294),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M468 128H160c-17.7 0-32 14.3-32 32v308c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V136c0-4.4-3.6-8-8-8zm-56 284H192V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210H136c-4.4 0-8 3.6-8 8v308c0 17.7 14.3 32 32 32h308c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zm-56 284H192V612h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm590-630H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V160c0-17.7-14.3-32-32-32zm-32 284H612V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210h-48c-4.4 0-8 3.6-8 8v134h-78V556c0-4.4-3.6-8-8-8H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h78v102c0 4.4 3.6 8 8 8h190c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zM746 832h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm142 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"qrcode",theme:"outlined"},f=i,c=t(27029),x=function(L,n){return s.createElement(c.Z,(0,d.Z)((0,d.Z)({},L),{},{ref:n,icon:f}))};x.displayName="QrcodeOutlined";var g=s.forwardRef(x)},31930:function(){},43657:function(S,E,t){"use strict";t.r(E),t.d(E,{ExamResult:function(){return k},default:function(){return ge}});var d={};t.r(d),t.d(d,{Number0:function(){return ae},Number1:function(){return ie},Number2:function(){return le},Number3:function(){return se},Number4:function(){return oe},Number5:function(){return ce},Number6:function(){return ue},Number7:function(){return de},Number8:function(){return ve},Number9:function(){return me},NumberDot:function(){return J},ScoreUnderline:function(){return X}});var s=t(9761),i=t(67294),f=t(5977),c=t(39428),x=t(3182),g=t(69610),b=t(54941),L=t(3980),n=t(54531),m=function(){function u(r){(0,g.Z)(this,u),this.id=void 0,this.answerId=void 0,this.examResult=void 0,this.id=r.id,this.answerId=r.answerId,this.makeObservable(),this.loadExamResult()}return(0,b.Z)(u,[{key:"makeObservable",value:function(){(0,n.Ou)(this,{id:n.LO.ref,answerId:n.LO.ref,examResult:n.LO.ref,loadExamResult:n.aD})}},{key:"loadExamResult",value:function(){var r=(0,x.Z)((0,c.Z)().mark(function o(){var C;return(0,c.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,L.hi.loadExamResult({id:this.id,answerId:this.answerId});case 2:C=j.sent,C.success&&(this.examResult=C.data);case 4:case"end":return j.stop()}},o,this)}));function l(){return r.apply(this,arguments)}return l}()}]),u}(),y=t(20136),a=t(55241),v=t(49111),w=t(19650),H=t(57663),z=t(71577),W=t(34792),F=t(48086),I=t(94657),Z=t(28991),B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h360c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H184V184h656v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V144c0-17.7-14.3-32-32-32zM653.3 599.4l52.2-52.2a8.01 8.01 0 00-4.7-13.6l-179.4-21c-5.1-.6-9.5 3.7-8.9 8.9l21 179.4c.8 6.6 8.9 9.4 13.6 4.7l52.4-52.4 256.2 256.2c3.1 3.1 8.2 3.1 11.3 0l42.4-42.4c3.1-3.1 3.1-8.2 0-11.3L653.3 599.4z"}}]},name:"select",theme:"outlined"},Q=B,A=t(27029),T=function(r,l){return i.createElement(A.Z,(0,Z.Z)((0,Z.Z)({},r),{},{ref:l,icon:Q}))};T.displayName="SelectOutlined";var U=i.forwardRef(T),Y=t(23538),N=t(92592),V=t(74855),K=i.createContext({});function $(){return(0,i.useContext)(K)}var e=t(85893),_=(0,s.Pi)(function(){var u=$(),r=u.examResult,l=(0,i.useState)(""),o=(0,I.Z)(l,2),C=o[0],P=o[1];(0,i.useEffect)(function(){function h(){return p.apply(this,arguments)}function p(){return p=(0,x.Z)((0,c.Z)().mark(function R(){return(0,c.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:N.toDataURL(window.location.href,{errorCorrectionLevel:"H",type:"image/jpeg",quality:.3,margin:1}).then(function(M){P(M)}).catch(function(M){console.error(M)});case 1:case"end":return O.stop()}},R)})),p.apply(this,arguments)}h()},[]);var j=function(){var h=(0,x.Z)((0,c.Z)().mark(function p(R){return(0,c.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:N.toDataURL(window.location.href,{errorCorrectionLevel:"H",margin:1,width:R}).then(function(M){P(M);var D=document.createElement("a");D.href=M,D.setAttribute("download","".concat(r==null?void 0:r.name,"_").concat(R,".png")),document.body.appendChild(D),D.click(),document.body.removeChild(D)});case 1:case"end":return O.stop()}},p)}));return function(R){return h.apply(this,arguments)}}(),q=function(){if(r!=null&&r.schema){var p,R,G=(p=r.schema.children)===null||p===void 0?void 0:p.reduce(function(O,M){var D;return(D=M.attribute)!==null&&D!==void 0&&D.examScore?O+M.attribute.examScore:O},0);return(0,e.jsxs)("span",{className:"total-score",children:["\u603B\u5206",G||((R=r.schema.attribute)===null||R===void 0?void 0:R.examScore),"\u5206"]})}return(0,e.jsx)(e.Fragment,{})};return(0,e.jsxs)("div",{className:"exam-result-header",children:[(0,e.jsxs)("div",{className:"header-content",children:[(0,e.jsx)(V.CopyToClipboard,{text:"".concat(window.location.href),onCopy:function(){return F.default.success("\u590D\u5236\u6210\u529F")},children:(0,e.jsx)(z.Z,{icon:(0,e.jsx)(U,{}),children:"\u5206\u4EAB\u7ED9\u597D\u53CB"})}),(0,e.jsx)(a.Z,{overlayInnerStyle:{border:"1px solid rgb(225, 231, 242)",borderRadius:3,boxShadow:"rgb(224 229 236 / 40%) 0px 3px 8px 0px"},content:(0,e.jsxs)("div",{children:[(0,e.jsx)("img",{src:C,height:100,width:100}),(0,e.jsx)("div",{style:{textAlign:"center"},children:(0,e.jsxs)(w.Z,{children:[(0,e.jsx)("a",{onClick:function(){return j(256)},children:"\u5C0F\u53F7"}),(0,e.jsx)("a",{onClick:function(){return j(512)},children:"\u4E2D\u53F7"}),(0,e.jsx)("a",{onClick:function(){return j(1024)},children:"\u5927\u53F7"})]})})]}),children:(0,e.jsx)(z.Z,{icon:(0,e.jsx)(Y.Z,{}),type:"text"})})]}),(0,e.jsxs)("div",{className:"title",children:[r==null?void 0:r.name,q()]})]})}),ye=t(66456),ee=t(53831),te=t(18111),ne=t(27484),re=t.n(ne),ae=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024","p-id":"1361","data-spm-anchor-id":"a313x.7781069.0.i5",width:"512",height:"512",children:(0,e.jsx)("path",{d:"M383.07989 126.788545l396.245994 67.928045 1.415284 701.919397-533.517367-66.51276 135.856089-703.334682z m512.288105 834.944918l-1.415284-815.13094-48.114067-56.605771L347.703381 5.085297 282.605904 51.78408 122.689985 868.335898l48.119661 67.928045 659.460873 82.075292 65.097476-56.605772z","p-id":"1362","data-spm-anchor-id":"a313x.7781069.0.i6"})}),ie=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"512",height:"512",children:(0,e.jsx)("path",{d:"M721.875514 50.613231L635.921319 3.610078 300.167797 252.066458l65.809987 87.297142 237.712802-178.623125L541.909442 1012.213591l107.44135 8.057683L721.875514 50.613231z","p-id":"1206"})}),le=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"512",height:"512",children:(0,e.jsx)("path",{d:"M897.62003 940.716242l-11.754723-104.450063-552.277836 61.364204 485.693625-547.052281-5.225554-75.726157-319.873811-267.6571L431.508365 3.278453 120.770953 216.094971 179.527927 302.266689l278.097114-189.312619 248.064046 207.590964L163.856812 928.967066l43.085859 87.475333 690.677359-75.726157z","p-id":"1518"})}),se=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",width:"512",height:"512",children:(0,e.jsx)("path",{d:"M737.423214 989.936662l187.89454-346.261526-33.553787-79.180716-340.891365-84.55643 381.153688-295.258882-26.839698-96.629574L290.505882 2.154728l-14.761001 107.369896 488.523583 68.445948-367.736616 285.862489 20.131162 95.291198 379.815312 93.947271-134.209592 249.626398-550.260996-118.104663-24.157393 104.687592 590.523317 127.495503 59.049556-26.839698z","p-id":"1676"})}),oe=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",width:"512",height:"512",children:(0,e.jsx)("path",{d:"M966.522808 751.55574l-4.036306-108.963429-219.262936 5.383613 44.388142-521.92977-108.957815-9.414305-44.393755 534.033075-447.940178 9.419919L429.79512 41.300564 328.909918 2.290421 54.491615 695.058679l52.460754 73.983979 517.893463-10.761612-21.523224 254.236772 107.616122 8.072612 22.864917-263.656691 232.719161-5.377999z","p-id":"1832"})}),ce=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"512",height:"512",children:(0,e.jsx)("path",{d:"M784.968235 982.615128l170.861419-435.28703-43.393376-74.585138-538.346299-56.953806 56.953806-301.041546h474.615051V6.269714H384.938323l-54.24172 44.746646-74.579592 402.741998 47.458732 65.090064 524.785868 55.600536-128.821312 325.444774-614.284706-135.6043L60.846819 871.419602l661.743438 145.093828 62.377978-33.898302z","p-id":"1988"})}),ue=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",width:"512",height:"512",children:(0,e.jsx)("path",{d:"M672.288828 1004.206903l275.275297-318.669393-20.336395-86.788192-424.444619-180.357063-42.033443 101.704559 353.922156 150.524329-199.338452 233.236208-413.593272-151.87369L576.009942 53.618752 479.731056 2.088969 74.273472 757.403689l31.187742 75.94249 508.517151 185.777092 58.310463-14.916368z","p-id":"2146"})}),de=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",width:"512",height:"512",children:(0,e.jsx)("path",{d:"M885.422422 150.609477l-47.387874-83.290486L141.556268 8.440271 130.065421 123.326396l616.05911 54.566161-363.316338 789.818369 104.830936 47.39346 397.783293-864.494909z","p-id":"2302"})}),ve=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"512",height:"512",children:(0,e.jsx)("path",{d:"M590.001388 117.347799l121.780542 133.82422-175.307999 157.905999-219.468152-171.287864 272.995609-120.442355z m-49.512898 432.245371l263.628304 204.748101-220.806338 151.215067-343.91949-85.643932 301.097524-270.319236z m84.305746 459.0091l301.097524-204.748101 2.676373-89.658491-305.112084-236.864576 200.733542-180.660744 2.676372-77.614814L643.528846 16.983816l-62.894763-13.381864-390.761591 171.287864-12.043678 91.002253 275.677557 216.791779L90.846695 807.868728l24.087356 92.334865 465.700032 115.089609 44.160153-6.690932z","p-id":"2458"})}),me=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",width:"512",height:"512",children:(0,e.jsx)("path",{d:"M908.989292 186.728233l-39.335692-75.962037L392.18431 6.317002l-55.614067 23.06289L108.684132 344.076574l20.34797 81.386304 377.089689 180.405657 47.480454-99.019353-317.411602-150.563826L404.393092 121.61473l375.735016 81.391879-345.893185 769.103081 100.374026 44.765533L908.989292 186.728233z","p-id":"2614"})}),J=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",width:"12",height:"12",children:(0,e.jsx)("path",{d:"M653.3 515.4c0 38.7-14 72-42.1 99.9s-61.4 41.9-100 41.9c-38.3 0-71.1-13.9-98.6-41.6-27.5-27.8-41.3-61.1-41.3-100.2 0-38.7 13.6-71.9 40.7-99.6s60.2-41.6 99.2-41.6c39.7 0 73.3 14 100.8 41.9 27.5 27.8 41.3 61 41.3 99.3z","p-id":"7081"})}),X=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"512",height:"512",children:(0,e.jsx)("path",{d:"M281.6 435.2c38.4-8.533333 247.466667-59.733333 520.533333-76.8 46.933333-4.266667 55.466667-29.866667 29.866667-38.4-21.333333-8.533333-192-29.866667-563.2 55.466667-42.666667 8.533333-64 21.333333-81.066667 42.666666-8.533333 8.533333-8.533333 25.6 0 34.133334 12.8 17.066667 64-12.8 93.866667-17.066667z m550.4 38.4c-64 4.266667-392.533333 17.066667-721.066667 136.533333-59.733333 21.333333-93.866667 42.666667-93.866666 76.8 0 12.8 4.266667 4.266667 17.066666 21.333334 42.666667 42.666667 170.666667-145.066667 887.466667-196.266667 0 0 76.8 0 76.8-21.333333 4.266667-25.6-93.866667-21.333333-166.4-17.066667z","p-id":"1873"})}),he=(0,s.Pi)(function(){var u,r=$(),l=r.examResult;if(!l||l.examScore===void 0)return(0,e.jsx)(e.Fragment,{});var o=(u=l.metaInfo)===null||u===void 0?void 0:u.answerInfo,C=function(){return l.examScore===void 0?(0,e.jsx)(e.Fragment,{}):(0,e.jsx)("div",{className:"score",children:"".concat(l.examScore).split("").map(function(h){return h!=="."?i.cloneElement(d["Number"+h],{key:h,height:32,width:24,fill:"currentColor",focusable:"false","aria-hidden":"true"}):i.cloneElement(J,{key:h,height:12,width:12,fill:"currentColor",focusable:"false","aria-hidden":"true"})}).concat([i.cloneElement(X,{key:"underline",height:24,width:48,className:"score-underline",fill:"currentColor",focusable:"false","aria-hidden":"true"})])})},P=[{title:"\u5F53\u524D\u6392\u540D",dataIndex:"rank",align:"center"},{title:"\u7B54\u9898\u65F6\u957F",dataIndex:"duration",align:"center"},{title:"\u63D0\u4EA4\u65F6\u95F4",dataIndex:"submitTime",align:"center"}],j=[{key:"1",rank:l.rank,duration:(0,te.gh)(((o==null?void 0:o.endTime)||0)-((o==null?void 0:o.startTime)||0)),submitTime:re()(o==null?void 0:o.endTime).format("YYYY.MM.DD HH:mm")}];return l.rank===void 0&&P.splice(0,1),(0,e.jsxs)("div",{className:"exam-result-mine",children:[C(),(0,e.jsx)(ee.Z,{className:"result-info",bordered:!0,size:"small",rowKey:"key",pagination:!1,columns:P,dataSource:j})]})}),fe=t(68068),xe=(0,s.Pi)(function(){var u,r=$(),l=r.examResult,o=(0,L.dD)();return!l||!l.schema?(0,e.jsx)(e.Fragment,{}):(0,e.jsx)("div",{children:(0,e.jsx)(fe.Z,{schema:l.schema,initialValues:l.answer,readOnly:!0,theme:o?"antdMobile":"antd",headerVisible:!1,footerVisible:!1,paginationVisible:!1,questionNumber:!1,correctAnswerVisible:!0,examScoreVisible:!0,mode:"exam",questionScore:(u=l.examInfo)===null||u===void 0?void 0:u.questionScore})})}),k=(0,s.Pi)(function(u){var r=(0,f.UO)(),l=r.id,o=r.answerId,C=(0,i.useMemo)(function(){return new m({id:l,answerId:o})},[]);return(0,e.jsx)(K.Provider,{value:C,children:(0,e.jsxs)("div",{className:"exam-result",children:[(0,e.jsx)(_,{}),(0,e.jsx)(he,{}),(0,e.jsx)(xe,{})]})})}),ge=k},81643:function(S,E,t){"use strict";t.d(E,{Z:function(){return d}});var d=function(i){if(!i)return null;var f=typeof i=="function";return f?i():i}},55241:function(S,E,t){"use strict";var d=t(22122),s=t(67294),i=t(53124),f=t(94199),c=t(81643),x=t(33603),g=function(n,m){var y={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&m.indexOf(a)<0&&(y[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,a=Object.getOwnPropertySymbols(n);v<a.length;v++)m.indexOf(a[v])<0&&Object.prototype.propertyIsEnumerable.call(n,a[v])&&(y[a[v]]=n[a[v]]);return y},b=function(m){var y=m.title,a=m.content,v=m.prefixCls;return!y&&!a?null:s.createElement(s.Fragment,null,y&&s.createElement("div",{className:"".concat(v,"-title")},(0,c.Z)(y)),s.createElement("div",{className:"".concat(v,"-inner-content")},(0,c.Z)(a)))},L=s.forwardRef(function(n,m){var y=n.prefixCls,a=n.title,v=n.content,w=n._overlay,H=n.placement,z=H===void 0?"top":H,W=n.trigger,F=W===void 0?"hover":W,I=n.mouseEnterDelay,Z=I===void 0?.1:I,B=n.mouseLeaveDelay,Q=B===void 0?.1:B,A=n.overlayStyle,T=A===void 0?{}:A,U=g(n,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),Y=s.useContext(i.E_),N=Y.getPrefixCls,V=N("popover",y),K=N();return s.createElement(f.Z,(0,d.Z)({placement:z,trigger:F,mouseEnterDelay:Z,mouseLeaveDelay:Q,overlayStyle:T},U,{prefixCls:V,ref:m,overlay:w||s.createElement(b,{prefixCls:V,title:a,content:v}),transitionName:(0,x.mL)(K,"zoom-big",U.transitionName)}))});E.Z=L},20136:function(S,E,t){"use strict";var d=t(38663),s=t.n(d),i=t(31930),f=t.n(i)},84164:function(S,E,t){"use strict";t.d(E,{Z:function(){return i}});var d=t(90484),s=t(67294);function i(f,c,x){var g=s.useRef({});function b(L){if(!g.current||g.current.data!==f||g.current.childrenColumnName!==c||g.current.getRowKey!==x){let m=function(y){y.forEach(function(a,v){var w=x(a,v);n.set(w,a),a&&(0,d.Z)(a)==="object"&&c in a&&m(a[c]||[])})};var n=new Map;m(f),g.current={data:f,childrenColumnName:c,kvMap:n,getRowKey:x}}return g.current.kvMap.get(L)}return[b]}}}]);
