(self.webpackChunksurvey_king=self.webpackChunksurvey_king||[]).push([[8684],{46533:function(Y,D,o){"use strict";o.d(D,{Z:function(){return t}});var c=o(28991),n=o(67294),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM695.5 365.7l-210.6 292a31.8 31.8 0 01-51.7 0L308.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H689c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-square",theme:"filled"},L=h,R=o(27029),E=function(l,d){return n.createElement(R.Z,(0,c.Z)((0,c.Z)({},l),{},{ref:d,icon:L}))},e=n.forwardRef(E),t=e},36862:function(Y,D,o){"use strict";o.d(D,{Z:function(){return t}});var c=o(28991),n=o(67294),h={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112c17.7 0 32 14.3 32 32v736c0 17.7-14.3 32-32 32H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32zM639.98 338.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-square",theme:"filled"},L=h,R=o(27029),E=function(l,d){return n.createElement(R.Z,(0,c.Z)((0,c.Z)({},l),{},{ref:d,icon:L}))},e=n.forwardRef(E),t=e},41687:function(Y,D,o){"use strict";o.d(D,{Z:function(){return t}});var c=o(28991),n=o(67294),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM512 533c-85.5 0-155.6 67.3-160 151.6a8 8 0 008 8.4h48.1c4.2 0 7.8-3.2 8.1-7.4C420 636.1 461.5 597 512 597s92.1 39.1 95.8 88.6c.3 4.2 3.9 7.4 8.1 7.4H664a8 8 0 008-8.4C667.6 600.3 597.5 533 512 533z"}}]},name:"frown",theme:"outlined"},L=h,R=o(27029),E=function(l,d){return n.createElement(R.Z,(0,c.Z)((0,c.Z)({},l),{},{ref:d,icon:L}))},e=n.forwardRef(E),t=e},57206:function(Y,D,o){"use strict";o.d(D,{Z:function(){return t}});var c=o(28991),n=o(67294),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]},name:"heart",theme:"outlined"},L=h,R=o(27029),E=function(l,d){return n.createElement(R.Z,(0,c.Z)((0,c.Z)({},l),{},{ref:d,icon:L}))},e=n.forwardRef(E),t=e},43347:function(Y,D,o){"use strict";o.d(D,{Z:function(){return t}});var c=o(28991),n=o(67294),h={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},L=h,R=o(27029),E=function(l,d){return n.createElement(R.Z,(0,c.Z)((0,c.Z)({},l),{},{ref:d,icon:L}))},e=n.forwardRef(E),t=e},46870:function(Y,D,o){"use strict";o.d(D,{Z:function(){return t}});var c=o(28991),n=o(67294),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 565H360c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"meh",theme:"outlined"},L=h,R=o(27029),E=function(l,d){return n.createElement(R.Z,(0,c.Z)((0,c.Z)({},l),{},{ref:d,icon:L}))},e=n.forwardRef(E),t=e},54121:function(Y,D,o){"use strict";o.d(D,{Z:function(){return t}});var c=o(28991),n=o(67294),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z"}}]},name:"minus-circle",theme:"filled"},L=h,R=o(27029),E=function(l,d){return n.createElement(R.Z,(0,c.Z)((0,c.Z)({},l),{},{ref:d,icon:L}))},e=n.forwardRef(E),t=e},81473:function(Y,D,o){"use strict";o.d(D,{Z:function(){return t}});var c=o(28991),n=o(67294),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M136 384h56c4.4 0 8-3.6 8-8V200h176c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H196c-37.6 0-68 30.4-68 68v180c0 4.4 3.6 8 8 8zm512-184h176v176c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V196c0-37.6-30.4-68-68-68H648c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM376 824H200V648c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v180c0 37.6 30.4 68 68 68h180c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm512-184h-56c-4.4 0-8 3.6-8 8v176H648c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h180c37.6 0 68-30.4 68-68V648c0-4.4-3.6-8-8-8zm16-164H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"scan",theme:"outlined"},L=h,R=o(27029),E=function(l,d){return n.createElement(R.Z,(0,c.Z)((0,c.Z)({},l),{},{ref:d,icon:L}))},e=n.forwardRef(E),t=e},18613:function(Y,D,o){"use strict";o.d(D,{Z:function(){return t}});var c=o(28991),n=o(67294),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"},L=h,R=o(27029),E=function(l,d){return n.createElement(R.Z,(0,c.Z)((0,c.Z)({},l),{},{ref:d,icon:L}))},e=n.forwardRef(E),t=e},89366:function(Y,D,o){"use strict";o.d(D,{Z:function(){return t}});var c=o(28991),n=o(67294),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},L=h,R=o(27029),E=function(l,d){return n.createElement(R.Z,(0,c.Z)((0,c.Z)({},l),{},{ref:d,icon:L}))},e=n.forwardRef(E),t=e},52683:function(){},68179:function(){},94233:function(Y,D,o){"use strict";var c=o(38663),n=o.n(c),h=o(52683),L=o.n(h),R=o(20136)},48736:function(Y,D,o){"use strict";var c=o(38663),n=o.n(c),h=o(68179),L=o.n(h)},32620:function(Y,D,o){"use strict";o.d(D,{Z:function(){return zt}});var c=o(22122),n=o(67294),h=o(96156),L=o(55507),R=o(90484),E=o(85061),e=o(28481),t=o(94184),a=o.n(t),l=o(13059),d=o(21770),y=o(73935),g=o(53124),M=o(98866),P=o(42051),C=o(85636),I=o(28991),J={icon:function(i,s){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:s}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:i}}]}},name:"file",theme:"twotone"},w=J,A=o(27029),z=function(i,s){return n.createElement(A.Z,(0,I.Z)((0,I.Z)({},i),{},{ref:s,icon:w}))},de=n.forwardRef(z),Oe=de,ue=o(79090),Je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},st=Je,lt=function(i,s){return n.createElement(A.Z,(0,I.Z)((0,I.Z)({},i),{},{ref:s,icon:st}))},ct=n.forwardRef(lt),dt=ct,ut={icon:function(i,s){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:i}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:s}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:s}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:s}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:i}}]}},name:"picture",theme:"twotone"},ht=ut,vt=function(i,s){return n.createElement(A.Z,(0,I.Z)((0,I.Z)({},i),{},{ref:s,icon:ht}))},ft=n.forwardRef(vt),mt=ft,Qe=o(5461),nt=o(71577),pt=o(57838),gt=o(33603),Ke=o(96159);function Ge(r){return(0,c.Z)((0,c.Z)({},r),{lastModified:r.lastModified,lastModifiedDate:r.lastModifiedDate,name:r.name,size:r.size,type:r.type,uid:r.uid,percent:0,originFileObj:r})}function Xe(r,i){var s=(0,E.Z)(i),v=s.findIndex(function(f){var U=f.uid;return U===r.uid});return v===-1?s.push(r):s[v]=r,s}function qe(r,i){var s=r.uid!==void 0?"uid":"name";return i.filter(function(v){return v[s]===r[s]})[0]}function wt(r,i){var s=r.uid!==void 0?"uid":"name",v=i.filter(function(f){return f[s]!==r[s]});return v.length===i.length?null:v}var yt=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=i.split("/"),v=s[s.length-1],f=v.split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(f)||[""])[0]},at=function(i){return i.indexOf("image/")===0},xt=function(i){if(i.type&&!i.thumbUrl)return at(i.type);var s=i.thumbUrl||i.url||"",v=yt(s);return/^data:image\//.test(s)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(v)?!0:!(/^data:/.test(s)||v)},he=200;function Et(r){return new Promise(function(i){if(!r.type||!at(r.type)){i("");return}var s=document.createElement("canvas");s.width=he,s.height=he,s.style.cssText="position: fixed; left: 0; top: 0; width: ".concat(he,"px; height: ").concat(he,"px; z-index: 9999; display: none;"),document.body.appendChild(s);var v=s.getContext("2d"),f=new Image;if(f.onload=function(){var u=f.width,Q=f.height,$=he,W=he,_=0,q=0;u>Q?(W=Q*(he/u),q=-(W-$)/2):($=u*(he/Q),_=-($-W)/2),v.drawImage(f,_,q,$,W);var H=s.toDataURL();document.body.removeChild(s),window.URL.revokeObjectURL(f.src),i(H)},f.crossOrigin="anonymous",r.type.startsWith("image/svg+xml")){var U=new FileReader;U.onload=function(){U.result&&(f.src=U.result)},U.readAsDataURL(r)}else if(r.type.startsWith("image/gif")){var F=new FileReader;F.onload=function(){F.result&&i(F.result)},F.readAsDataURL(r)}else f.src=window.URL.createObjectURL(r)})}var Ct=o(82061),It=o(90631),St=o(55287),Pt=o(82833),Zt=o(94199),Rt=n.forwardRef(function(r,i){var s=r.prefixCls,v=r.className,f=r.style,U=r.locale,F=r.listType,u=r.file,Q=r.items,$=r.progress,W=r.iconRender,_=r.actionIconRender,q=r.itemRender,H=r.isImgUrl,He=r.showPreviewIcon,ve=r.showRemoveIcon,fe=r.showDownloadIcon,me=r.previewIcon,Ie=r.removeIcon,pe=r.downloadIcon,ie=r.onPreview,re=r.onDownload,Se=r.onClose,Pe,ae,ge=u.status,De=n.useState(ge),we=(0,e.Z)(De,2),V=we[0],Te=we[1];n.useEffect(function(){ge!=="removed"&&Te(ge)},[ge]);var Ue=n.useState(!1),Fe=(0,e.Z)(Ue,2),be=Fe[0],_e=Fe[1],ye=n.useRef(null);n.useEffect(function(){return ye.current=setTimeout(function(){_e(!0)},300),function(){ye.current&&clearTimeout(ye.current)}},[]);var Ae="".concat(s,"-span"),xe=W(u),Ze=n.createElement("div",{className:"".concat(s,"-text-icon")},xe);if(F==="picture"||F==="picture-card")if(V==="uploading"||!u.thumbUrl&&!u.url){var Ne=a()((0,h.Z)((0,h.Z)({},"".concat(s,"-list-item-thumbnail"),!0),"".concat(s,"-list-item-file"),V!=="uploading"));Ze=n.createElement("div",{className:Ne},xe)}else{var ee=(H==null?void 0:H(u))?n.createElement("img",{src:u.thumbUrl||u.url,alt:u.name,className:"".concat(s,"-list-item-image"),crossOrigin:u.crossOrigin}):xe,Ve=a()((0,h.Z)((0,h.Z)({},"".concat(s,"-list-item-thumbnail"),!0),"".concat(s,"-list-item-file"),H&&!H(u)));Ze=n.createElement("a",{className:Ve,onClick:function(Z){return ie(u,Z)},href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer"},ee)}var ze=a()((0,h.Z)((0,h.Z)((0,h.Z)({},"".concat(s,"-list-item"),!0),"".concat(s,"-list-item-").concat(V),!0),"".concat(s,"-list-item-list-type-").concat(F),!0)),k=typeof u.linkProps=="string"?JSON.parse(u.linkProps):u.linkProps,Re=ve?_((typeof Ie=="function"?Ie(u):Ie)||n.createElement(Ct.Z,null),function(){return Se(u)},s,U.removeFile):null,We=fe&&V==="done"?_((typeof pe=="function"?pe(u):pe)||n.createElement(It.Z,null),function(){return re(u)},s,U.downloadFile):null,Me=F!=="picture-card"&&n.createElement("span",{key:"download-delete",className:a()("".concat(s,"-list-item-card-actions"),{picture:F==="picture"})},We,Re),oe=a()("".concat(s,"-list-item-name")),je=u.url?[n.createElement("a",(0,c.Z)({key:"view",target:"_blank",rel:"noopener noreferrer",className:oe,title:u.name},k,{href:u.url,onClick:function(Z){return ie(u,Z)}}),u.name),Me]:[n.createElement("span",{key:"view",className:oe,onClick:function(Z){return ie(u,Z)},title:u.name},u.name),Me],Ee={pointerEvents:"none",opacity:.5},se=He?n.createElement("a",{href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:u.url||u.thumbUrl?void 0:Ee,onClick:function(Z){return ie(u,Z)},title:U.previewFile},typeof me=="function"?me(u):me||n.createElement(St.Z,null)):null,Ce=F==="picture-card"&&V!=="uploading"&&n.createElement("span",{className:"".concat(s,"-list-item-actions")},se,V==="done"&&We,Re),S;u.response&&typeof u.response=="string"?S=u.response:S=((Pe=u.error)===null||Pe===void 0?void 0:Pe.statusText)||((ae=u.error)===null||ae===void 0?void 0:ae.message)||U.uploadError;var x=n.createElement("span",{className:Ae},Ze,je),B=n.useContext(g.E_),j=B.getPrefixCls,te=j(),le=n.createElement("div",{className:ze},n.createElement("div",{className:"".concat(s,"-list-item-info")},x),Ce,be&&n.createElement(Qe.default,{motionName:"".concat(te,"-fade"),visible:V==="uploading",motionDeadline:2e3},function(ne){var Z=ne.className,Le="percent"in u?n.createElement(Pt.Z,(0,c.Z)({},$,{type:"line",percent:u.percent})):null;return n.createElement("div",{className:a()("".concat(s,"-list-item-progress"),Z)},Le)})),$e=a()("".concat(s,"-list-").concat(F,"-container"),v),ke=V==="error"?n.createElement(Zt.Z,{title:S,getPopupContainer:function(Z){return Z.parentNode}},le):le;return n.createElement("div",{className:$e,style:f,ref:i},q?q(ke,u,Q,{download:re.bind(null,u),preview:ie.bind(null,u),remove:Se.bind(null,u)}):ke)}),Mt=Rt,Ye=(0,c.Z)({},gt.ZP);delete Ye.onAppearEnd,delete Ye.onEnterEnd,delete Ye.onLeaveEnd;var Lt=function(i,s){var v=i.listType,f=v===void 0?"text":v,U=i.previewFile,F=U===void 0?Et:U,u=i.onPreview,Q=i.onDownload,$=i.onRemove,W=i.locale,_=i.iconRender,q=i.isImageUrl,H=q===void 0?xt:q,He=i.prefixCls,ve=i.items,fe=ve===void 0?[]:ve,me=i.showPreviewIcon,Ie=me===void 0?!0:me,pe=i.showRemoveIcon,ie=pe===void 0?!0:pe,re=i.showDownloadIcon,Se=re===void 0?!1:re,Pe=i.removeIcon,ae=i.previewIcon,ge=i.downloadIcon,De=i.progress,we=De===void 0?{strokeWidth:2,showInfo:!1}:De,V=i.appendAction,Te=i.appendActionVisible,Ue=Te===void 0?!0:Te,Fe=i.itemRender,be=i.disabled,_e=(0,pt.Z)(),ye=n.useState(!1),Ae=(0,e.Z)(ye,2),xe=Ae[0],Ze=Ae[1];n.useEffect(function(){f!=="picture"&&f!=="picture-card"||(fe||[]).forEach(function(S){typeof document=="undefined"||typeof window=="undefined"||!window.FileReader||!window.File||!(S.originFileObj instanceof File||S.originFileObj instanceof Blob)||S.thumbUrl!==void 0||(S.thumbUrl="",F&&F(S.originFileObj).then(function(x){S.thumbUrl=x||"",_e()}))})},[f,fe,F]),n.useEffect(function(){Ze(!0)},[]);var Ne=function(x,B){if(!!u)return B==null||B.preventDefault(),u(x)},ee=function(x){typeof Q=="function"?Q(x):x.url&&window.open(x.url)},Ve=function(x){$==null||$(x)},ze=function(x){if(_)return _(x,f);var B=x.status==="uploading",j=H&&H(x)?n.createElement(mt,null):n.createElement(Oe,null),te=B?n.createElement(ue.Z,null):n.createElement(dt,null);return f==="picture"?te=B?n.createElement(ue.Z,null):j:f==="picture-card"&&(te=B?W.uploading:j),te},k=function(x,B,j,te){var le={type:"text",size:"small",title:te,disabled:be,onClick:function(ne){B(),(0,Ke.l$)(x)&&x.props.onClick&&x.props.onClick(ne)},className:"".concat(j,"-list-item-card-actions-btn")};if((0,Ke.l$)(x)){var $e=(0,Ke.Tm)(x,(0,c.Z)((0,c.Z)({},x.props),{onClick:function(){}}));return n.createElement(nt.Z,(0,c.Z)({},le,{icon:$e}))}return n.createElement(nt.Z,(0,c.Z)({},le),n.createElement("span",null,x))};n.useImperativeHandle(s,function(){return{handlePreview:Ne,handleDownload:ee}});var Re=n.useContext(g.E_),We=Re.getPrefixCls,Me=Re.direction,oe=We("upload",He),je=a()((0,h.Z)((0,h.Z)((0,h.Z)({},"".concat(oe,"-list"),!0),"".concat(oe,"-list-").concat(f),!0),"".concat(oe,"-list-rtl"),Me==="rtl")),Ee=(0,E.Z)(fe.map(function(S){return{key:S.uid,file:S}})),se=f==="picture-card"?"animate-inline":"animate",Ce={motionDeadline:2e3,motionName:"".concat(oe,"-").concat(se),keys:Ee,motionAppear:xe};return f!=="picture-card"&&(Ce=(0,c.Z)((0,c.Z)({},Ye),Ce)),n.createElement("div",{className:je},n.createElement(Qe.CSSMotionList,(0,c.Z)({},Ce,{component:!1}),function(S){var x=S.key,B=S.file,j=S.className,te=S.style;return n.createElement(Mt,{key:x,locale:W,prefixCls:oe,className:j,style:te,file:B,items:fe,progress:we,listType:f,isImgUrl:H,showPreviewIcon:Ie,showRemoveIcon:ie,showDownloadIcon:Se,removeIcon:Pe,previewIcon:ae,downloadIcon:ge,iconRender:ze,actionIconRender:k,itemRender:Fe,onPreview:Ne,onDownload:ee,onClose:Ve})}),V&&n.createElement(Qe.default,(0,c.Z)({},Ce,{visible:Ue,forceRender:!0}),function(S){var x=S.className,B=S.style;return(0,Ke.Tm)(V,function(j){return{className:a()(j.className,x),style:(0,c.Z)((0,c.Z)((0,c.Z)({},B),{pointerEvents:x?"none":void 0}),j.style)}})}))},Ot=n.forwardRef(Lt),Dt=Ot,Tt=function(r,i,s,v){function f(U){return U instanceof s?U:new s(function(F){F(U)})}return new(s||(s=Promise))(function(U,F){function u(W){try{$(v.next(W))}catch(_){F(_)}}function Q(W){try{$(v.throw(W))}catch(_){F(_)}}function $(W){W.done?U(W.value):f(W.value).then(u,Q)}$((v=v.apply(r,i||[])).next())})},Be="__LIST_IGNORE_".concat(Date.now(),"__"),Ut=function(i,s){var v=i.fileList,f=i.defaultFileList,U=i.onRemove,F=i.showUploadList,u=F===void 0?!0:F,Q=i.listType,$=Q===void 0?"text":Q,W=i.onPreview,_=i.onDownload,q=i.onChange,H=i.onDrop,He=i.previewFile,ve=i.disabled,fe=i.locale,me=i.iconRender,Ie=i.isImageUrl,pe=i.progress,ie=i.prefixCls,re=i.className,Se=i.type,Pe=Se===void 0?"select":Se,ae=i.children,ge=i.style,De=i.itemRender,we=i.maxCount,V=i.data,Te=V===void 0?{}:V,Ue=i.multiple,Fe=Ue===void 0?!1:Ue,be=i.action,_e=be===void 0?"":be,ye=i.accept,Ae=ye===void 0?"":ye,xe=i.supportServerRender,Ze=xe===void 0?!0:xe,Ne=n.useContext(M.Z),ee=ve!=null?ve:Ne,Ve=(0,d.Z)(f||[],{value:v,postState:function(p){return p!=null?p:[]}}),ze=(0,e.Z)(Ve,2),k=ze[0],Re=ze[1],We=n.useState("drop"),Me=(0,e.Z)(We,2),oe=Me[0],je=Me[1],Ee=n.useRef(null);n.useMemo(function(){var K=Date.now();(v||[]).forEach(function(p,T){!p.uid&&!Object.isFrozen(p)&&(p.uid="__AUTO__".concat(K,"_").concat(T,"__"))})},[v]);var se=function(p,T,N){var m=(0,E.Z)(T);we===1?m=m.slice(-1):we&&(m=m.slice(0,we)),(0,y.flushSync)(function(){Re(m)});var O={file:p,fileList:m};N&&(O.event=N),(0,y.flushSync)(function(){q==null||q(O)})},Ce=function(p,T){return Tt(void 0,void 0,void 0,(0,L.Z)().mark(function N(){var m,O,G,X;return(0,L.Z)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(m=i.beforeUpload,O=i.transformFile,G=p,!m){b.next=13;break}return b.next=5,m(p,T);case 5:if(X=b.sent,X!==!1){b.next=8;break}return b.abrupt("return",!1);case 8:if(delete p[Be],X!==Be){b.next=12;break}return Object.defineProperty(p,Be,{value:!0,configurable:!0}),b.abrupt("return",!1);case 12:(0,R.Z)(X)==="object"&&X&&(G=X);case 13:if(!O){b.next=17;break}return b.next=16,O(G);case 16:G=b.sent;case 17:return b.abrupt("return",G);case 18:case"end":return b.stop()}},N)}))},S=function(p){var T=p.filter(function(O){return!O.file[Be]});if(!!T.length){var N=T.map(function(O){return Ge(O.file)}),m=(0,E.Z)(k);N.forEach(function(O){m=Xe(O,m)}),N.forEach(function(O,G){var X=O;if(T[G].parsedFile)O.status="uploading";else{var ce=O.originFileObj,b;try{b=new File([ce],ce.name,{type:ce.type})}catch(rt){b=new Blob([ce],{type:ce.type}),b.name=ce.name,b.lastModifiedDate=new Date,b.lastModified=new Date().getTime()}b.uid=O.uid,X=b}se(X,m)})}},x=function(p,T,N){try{typeof p=="string"&&(p=JSON.parse(p))}catch(G){}if(!!qe(T,k)){var m=Ge(T);m.status="done",m.percent=100,m.response=p,m.xhr=N;var O=Xe(m,k);se(m,O)}},B=function(p,T){if(!!qe(T,k)){var N=Ge(T);N.status="uploading",N.percent=p.percent;var m=Xe(N,k);se(N,m,p)}},j=function(p,T,N){if(!!qe(N,k)){var m=Ge(N);m.error=p,m.response=T,m.status="error";var O=Xe(m,k);se(m,O)}},te=function(p){var T;Promise.resolve(typeof U=="function"?U(p):U).then(function(N){var m;if(N!==!1){var O=wt(p,k);O&&(T=(0,c.Z)((0,c.Z)({},p),{status:"removed"}),k==null||k.forEach(function(G){var X=T.uid!==void 0?"uid":"name";G[X]===T[X]&&!Object.isFrozen(G)&&(G.status="removed")}),(m=Ee.current)===null||m===void 0||m.abort(T),se(T,O))}})},le=function(p){je(p.type),p.type==="drop"&&(H==null||H(p))};n.useImperativeHandle(s,function(){return{onBatchStart:S,onSuccess:x,onProgress:B,onError:j,fileList:k,upload:Ee.current}});var $e=n.useContext(g.E_),ke=$e.getPrefixCls,ne=$e.direction,Z=ke("upload",ie),Le=(0,c.Z)((0,c.Z)({onBatchStart:S,onError:j,onProgress:B,onSuccess:x},i),{data:Te,multiple:Fe,action:_e,accept:Ae,supportServerRender:Ze,prefixCls:Z,disabled:ee,beforeUpload:Ce,onChange:void 0});delete Le.className,delete Le.style,(!ae||ee)&&delete Le.id;var tt=function(p,T){return u?n.createElement(P.Z,{componentName:"Upload",defaultLocale:C.Z.Upload},function(N){var m=typeof u=="boolean"?{}:u,O=m.showRemoveIcon,G=m.showPreviewIcon,X=m.showDownloadIcon,ce=m.removeIcon,b=m.previewIcon,rt=m.downloadIcon;return n.createElement(Dt,{prefixCls:Z,listType:$,items:k,previewFile:He,onPreview:W,onDownload:_,onRemove:te,showRemoveIcon:!ee&&O,showPreviewIcon:G,showDownloadIcon:X,removeIcon:ce,previewIcon:b,downloadIcon:rt,iconRender:me,locale:(0,c.Z)((0,c.Z)({},N),fe),isImageUrl:Ie,progress:pe,appendAction:p,appendActionVisible:T,itemRender:De,disabled:ee})}):p};if(Pe==="drag"){var Wt=a()(Z,(0,h.Z)((0,h.Z)((0,h.Z)((0,h.Z)((0,h.Z)({},"".concat(Z,"-drag"),!0),"".concat(Z,"-drag-uploading"),k.some(function(K){return K.status==="uploading"})),"".concat(Z,"-drag-hover"),oe==="dragover"),"".concat(Z,"-disabled"),ee),"".concat(Z,"-rtl"),ne==="rtl"),re);return n.createElement("span",null,n.createElement("div",{className:Wt,onDrop:le,onDragOver:le,onDragLeave:le,style:ge},n.createElement(l.default,(0,c.Z)({},Le,{ref:Ee,className:"".concat(Z,"-btn")}),n.createElement("div",{className:"".concat(Z,"-drag-container")},ae))),tt())}var $t=a()(Z,(0,h.Z)((0,h.Z)((0,h.Z)((0,h.Z)({},"".concat(Z,"-select"),!0),"".concat(Z,"-select-").concat($),!0),"".concat(Z,"-disabled"),ee),"".concat(Z,"-rtl"),ne==="rtl")),kt=function(p){return n.createElement("div",{className:$t,style:p},n.createElement(l.default,(0,c.Z)({},Le,{ref:Ee})))},it=kt(ae?void 0:{display:"none"});return $==="picture-card"?n.createElement("span",{className:a()("".concat(Z,"-picture-card-wrapper"),re)},tt(it,!!ae)):n.createElement("span",{className:re},it,tt())},Ft=n.forwardRef(Ut),ot=Ft,bt=function(r,i){var s={};for(var v in r)Object.prototype.hasOwnProperty.call(r,v)&&i.indexOf(v)<0&&(s[v]=r[v]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,v=Object.getOwnPropertySymbols(r);f<v.length;f++)i.indexOf(v[f])<0&&Object.prototype.propertyIsEnumerable.call(r,v[f])&&(s[v[f]]=r[v[f]]);return s},At=n.forwardRef(function(r,i){var s=r.style,v=r.height,f=bt(r,["style","height"]);return n.createElement(ot,(0,c.Z)({ref:i},f,{type:"drag",style:(0,c.Z)((0,c.Z)({},s),{height:v})}))}),Nt=At,et=ot;et.Dragger=Nt,et.LIST_IGNORE=Be;var zt=et},17672:function(Y,D,o){"use strict";o.d(D,{Z:function(){return R}});/*!
 * Signature Pad v4.0.4 | https://github.com/szimek/signature_pad
 * (c) 2022 Szymon Nowak | Released under the MIT license
 */class c{constructor(e,t,a,l){if(isNaN(e)||isNaN(t))throw new Error(`Point is invalid: (${e}, ${t})`);this.x=+e,this.y=+t,this.pressure=a||0,this.time=l||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.pressure===e.pressure&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class n{constructor(e,t,a,l,d,y){this.startPoint=e,this.control2=t,this.control1=a,this.endPoint=l,this.startWidth=d,this.endWidth=y}static fromPoints(e,t){const a=this.calculateControlPoints(e[0],e[1],e[2]).c2,l=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new n(e[1],a,l,e[2],t.start,t.end)}static calculateControlPoints(e,t,a){const l=e.x-t.x,d=e.y-t.y,y=t.x-a.x,g=t.y-a.y,M={x:(e.x+t.x)/2,y:(e.y+t.y)/2},P={x:(t.x+a.x)/2,y:(t.y+a.y)/2},C=Math.sqrt(l*l+d*d),I=Math.sqrt(y*y+g*g),J=M.x-P.x,w=M.y-P.y,A=I/(C+I),z={x:P.x+J*A,y:P.y+w*A},de=t.x-z.x,Oe=t.y-z.y;return{c1:new c(M.x+de,M.y+Oe),c2:new c(P.x+de,P.y+Oe)}}length(){const e=10;let t=0,a,l;for(let d=0;d<=e;d+=1){const y=d/e,g=this.point(y,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),M=this.point(y,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(d>0){const P=g-a,C=M-l;t+=Math.sqrt(P*P+C*C)}a=g,l=M}return t}point(e,t,a,l,d){return t*(1-e)*(1-e)*(1-e)+3*a*(1-e)*(1-e)*e+3*l*(1-e)*e*e+d*e*e*e}}class h{constructor(){try{this._et=new EventTarget}catch(e){this._et=document}}addEventListener(e,t,a){this._et.addEventListener(e,t,a)}dispatchEvent(e){return this._et.dispatchEvent(e)}removeEventListener(e,t,a){this._et.removeEventListener(e,t,a)}}function L(E,e=250){let t=0,a=null,l,d,y;const g=()=>{t=Date.now(),a=null,l=E.apply(d,y),a||(d=null,y=[])};return function(...P){const C=Date.now(),I=e-(C-t);return d=this,y=P,I<=0||I>e?(a&&(clearTimeout(a),a=null),t=C,l=E.apply(d,y),a||(d=null,y=[])):a||(a=window.setTimeout(g,I)),l}}class R extends h{constructor(e,t={}){super();this.canvas=e,this._handleMouseDown=a=>{a.buttons===1&&(this._drawningStroke=!0,this._strokeBegin(a))},this._handleMouseMove=a=>{this._drawningStroke&&this._strokeMoveUpdate(a)},this._handleMouseUp=a=>{a.buttons===1&&this._drawningStroke&&(this._drawningStroke=!1,this._strokeEnd(a))},this._handleTouchStart=a=>{if(a.preventDefault(),a.targetTouches.length===1){const l=a.changedTouches[0];this._strokeBegin(l)}},this._handleTouchMove=a=>{a.preventDefault();const l=a.targetTouches[0];this._strokeMoveUpdate(l)},this._handleTouchEnd=a=>{if(a.target===this.canvas){a.preventDefault();const d=a.changedTouches[0];this._strokeEnd(d)}},this._handlePointerStart=a=>{this._drawningStroke=!0,a.preventDefault(),this._strokeBegin(a)},this._handlePointerMove=a=>{this._drawningStroke&&(a.preventDefault(),this._strokeMoveUpdate(a))},this._handlePointerEnd=a=>{this._drawningStroke&&(a.preventDefault(),this._drawningStroke=!1,this._strokeEnd(a))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.dotSize=t.dotSize||0,this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this._strokeMoveUpdate=this.throttle?L(R.prototype._strokeUpdate,this.throttle):R.prototype._strokeUpdate,this._ctx=e.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:e,canvas:t}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(e,t={}){return new Promise((a,l)=>{const d=new Image,y=t.ratio||window.devicePixelRatio||1,g=t.width||this.canvas.width/y,M=t.height||this.canvas.height/y,P=t.xOffset||0,C=t.yOffset||0;this._reset(),d.onload=()=>{this._ctx.drawImage(d,P,C,g,M),a()},d.onerror=I=>{l(I)},d.crossOrigin="anonymous",d.src=e,this._isEmpty=!1})}toDataURL(e="image/png",t){switch(e){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(e,t)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const e=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!e?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e,{clear:t=!0}={}){t&&this.clear(),this._fromData(e,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(e)}toData(){return this._data}_strokeBegin(e){this.dispatchEvent(new CustomEvent("beginStroke",{detail:e}));const t={dotSize:this.dotSize,minWidth:this.minWidth,maxWidth:this.maxWidth,penColor:this.penColor,points:[]};this._data.push(t),this._reset(),this._strokeUpdate(e)}_strokeUpdate(e){if(this._data.length===0){this._strokeBegin(e);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:e}));const t=e.clientX,a=e.clientY,l=e.pressure!==void 0?e.pressure:e.force!==void 0?e.force:0,d=this._createPoint(t,a,l),y=this._data[this._data.length-1],g=y.points,M=g.length>0&&g[g.length-1],P=M?d.distanceTo(M)<=this.minDistance:!1,{penColor:C,dotSize:I,minWidth:J,maxWidth:w}=y;if(!M||!(M&&P)){const A=this._addPoint(d);M?A&&this._drawCurve(A,{penColor:C,dotSize:I,minWidth:J,maxWidth:w}):this._drawDot(d,{penColor:C,dotSize:I,minWidth:J,maxWidth:w}),g.push({time:d.time,x:d.x,y:d.y,pressure:d.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:e}))}_strokeEnd(e){this._strokeUpdate(e),this.dispatchEvent(new CustomEvent("endStroke",{detail:e}))}_handlePointerEvents(){this._drawningStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),document.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawningStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(e,t,a){const l=this.canvas.getBoundingClientRect();return new c(e-l.left,t-l.top,a,new Date().getTime())}_addPoint(e){const{_lastPoints:t}=this;if(t.push(e),t.length>2){t.length===3&&t.unshift(t[0]);const a=this._calculateCurveWidths(t[1],t[2]),l=n.fromPoints(t,a);return t.shift(),l}return null}_calculateCurveWidths(e,t){const a=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,l=this._strokeWidth(a),d={end:l,start:this._lastWidth};return this._lastVelocity=a,this._lastWidth=l,d}_strokeWidth(e){return Math.max(this.maxWidth/(e+1),this.minWidth)}_drawCurveSegment(e,t,a){const l=this._ctx;l.moveTo(e,t),l.arc(e,t,a,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(e,t){const a=this._ctx,l=e.endWidth-e.startWidth,d=Math.ceil(e.length())*2;a.beginPath(),a.fillStyle=t.penColor;for(let y=0;y<d;y+=1){const g=y/d,M=g*g,P=M*g,C=1-g,I=C*C,J=I*C;let w=J*e.startPoint.x;w+=3*I*g*e.control1.x,w+=3*C*M*e.control2.x,w+=P*e.endPoint.x;let A=J*e.startPoint.y;A+=3*I*g*e.control1.y,A+=3*C*M*e.control2.y,A+=P*e.endPoint.y;const z=Math.min(e.startWidth+P*l,t.maxWidth);this._drawCurveSegment(w,A,z)}a.closePath(),a.fill()}_drawDot(e,t){const a=this._ctx,l=t.dotSize>0?t.dotSize:(t.minWidth+t.maxWidth)/2;a.beginPath(),this._drawCurveSegment(e.x,e.y,l),a.closePath(),a.fillStyle=t.penColor,a.fill()}_fromData(e,t,a){for(const l of e){const{penColor:d,dotSize:y,minWidth:g,maxWidth:M,points:P}=l;if(P.length>1)for(let C=0;C<P.length;C+=1){const I=P[C],J=new c(I.x,I.y,I.pressure,I.time);this.penColor=d,C===0&&this._reset();const w=this._addPoint(J);w&&t(w,{penColor:d,dotSize:y,minWidth:g,maxWidth:M})}else this._reset(),a(P[0],{penColor:d,dotSize:y,minWidth:g,maxWidth:M})}}_toSVG(){const e=this._data,t=Math.max(window.devicePixelRatio||1,1),a=0,l=0,d=this.canvas.width/t,y=this.canvas.height/t,g=document.createElementNS("http://www.w3.org/2000/svg","svg");g.setAttribute("width",this.canvas.width.toString()),g.setAttribute("height",this.canvas.height.toString()),this._fromData(e,(w,{penColor:A})=>{const z=document.createElement("path");if(!isNaN(w.control1.x)&&!isNaN(w.control1.y)&&!isNaN(w.control2.x)&&!isNaN(w.control2.y)){const de=`M ${w.startPoint.x.toFixed(3)},${w.startPoint.y.toFixed(3)} C ${w.control1.x.toFixed(3)},${w.control1.y.toFixed(3)} ${w.control2.x.toFixed(3)},${w.control2.y.toFixed(3)} ${w.endPoint.x.toFixed(3)},${w.endPoint.y.toFixed(3)}`;z.setAttribute("d",de),z.setAttribute("stroke-width",(w.endWidth*2.25).toFixed(3)),z.setAttribute("stroke",A),z.setAttribute("fill","none"),z.setAttribute("stroke-linecap","round"),g.appendChild(z)}},(w,{penColor:A,dotSize:z,minWidth:de,maxWidth:Oe})=>{const ue=document.createElement("circle"),Je=z>0?z:(de+Oe)/2;ue.setAttribute("r",Je.toString()),ue.setAttribute("cx",w.x.toString()),ue.setAttribute("cy",w.y.toString()),ue.setAttribute("fill",A),g.appendChild(ue)});const M="data:image/svg+xml;base64,",P=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="${a} ${l} ${this.canvas.width} ${this.canvas.height}" width="${d}" height="${y}">`;let C=g.innerHTML;if(C===void 0){const w=document.createElement("dummy"),A=g.childNodes;w.innerHTML="";for(let z=0;z<A.length;z+=1)w.appendChild(A[z].cloneNode(!0));C=w.innerHTML}const I="</svg>",J=P+C+I;return M+btoa(J)}}}}]);
