(self.webpackChunksurvey_king=self.webpackChunksurvey_king||[]).push([[2770],{16165:function(ne,W,s){"use strict";var P=s(28991),w=s(96156),D=s(81253),Z=s(67294),j=s(94184),B=s.n(j),l=s(63017),d=s(41755),h=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],p=Z.forwardRef(function(b,t){var O=b.className,H=b.component,J=b.viewBox,T=b.spin,N=b.rotate,ce=b.tabIndex,F=b.onClick,Q=b.children,ae=(0,D.Z)(b,h);(0,d.Kp)(Boolean(H||Q),"Should have `component` prop or `children`."),(0,d.C3)();var de=Z.useContext(l.Z),ie=de.prefixCls,ue=ie===void 0?"anticon":ie,Ce=B()(ue,O),xe=B()((0,w.Z)({},"".concat(ue,"-spin"),!!T)),je=N?{msTransform:"rotate(".concat(N,"deg)"),transform:"rotate(".concat(N,"deg)")}:void 0,be=(0,P.Z)((0,P.Z)({},d.vD),{},{className:xe,style:je,viewBox:J});J||delete be.viewBox;var Me=function(){return H?Z.createElement(H,(0,P.Z)({},be),Q):Q?((0,d.Kp)(Boolean(J)||Z.Children.count(Q)===1&&Z.isValidElement(Q)&&Z.Children.only(Q).type==="use","Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),Z.createElement("svg",(0,P.Z)((0,P.Z)({},be),{},{viewBox:J}),Q)):null},Be=ce;return Be===void 0&&F&&(Be=-1),Z.createElement("span",(0,P.Z)((0,P.Z)({role:"img"},ae),{},{ref:t,tabIndex:Be,onClick:F,className:Ce}),Me())});p.displayName="AntdIcon",W.Z=p},46533:function(ne,W,s){"use strict";s.d(W,{Z:function(){return l}});var P=s(28991),w=s(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM695.5 365.7l-210.6 292a31.8 31.8 0 01-51.7 0L308.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H689c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-square",theme:"filled"},Z=D,j=s(27029),B=function(h,p){return w.createElement(j.Z,(0,P.Z)((0,P.Z)({},h),{},{ref:p,icon:Z}))};B.displayName="CheckSquareFilled";var l=w.forwardRef(B)},36862:function(ne,W,s){"use strict";s.d(W,{Z:function(){return l}});var P=s(28991),w=s(67294),D={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112c17.7 0 32 14.3 32 32v736c0 17.7-14.3 32-32 32H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32zM639.98 338.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-square",theme:"filled"},Z=D,j=s(27029),B=function(h,p){return w.createElement(j.Z,(0,P.Z)((0,P.Z)({},h),{},{ref:p,icon:Z}))};B.displayName="CloseSquareFilled";var l=w.forwardRef(B)},91816:function(ne,W,s){"use strict";s.d(W,{Z:function(){return l}});var P=s(28991),w=s(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},Z=D,j=s(27029),B=function(h,p){return w.createElement(j.Z,(0,P.Z)((0,P.Z)({},h),{},{ref:p,icon:Z}))};B.displayName="FolderOpenOutlined";var l=w.forwardRef(B)},63258:function(ne,W,s){"use strict";s.d(W,{Z:function(){return l}});var P=s(28991),w=s(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},Z=D,j=s(27029),B=function(h,p){return w.createElement(j.Z,(0,P.Z)((0,P.Z)({},h),{},{ref:p,icon:Z}))};B.displayName="FolderOutlined";var l=w.forwardRef(B)},41687:function(ne,W,s){"use strict";s.d(W,{Z:function(){return l}});var P=s(28991),w=s(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM512 533c-85.5 0-155.6 67.3-160 151.6a8 8 0 008 8.4h48.1c4.2 0 7.8-3.2 8.1-7.4C420 636.1 461.5 597 512 597s92.1 39.1 95.8 88.6c.3 4.2 3.9 7.4 8.1 7.4H664a8 8 0 008-8.4C667.6 600.3 597.5 533 512 533z"}}]},name:"frown",theme:"outlined"},Z=D,j=s(27029),B=function(h,p){return w.createElement(j.Z,(0,P.Z)((0,P.Z)({},h),{},{ref:p,icon:Z}))};B.displayName="FrownOutlined";var l=w.forwardRef(B)},57206:function(ne,W,s){"use strict";s.d(W,{Z:function(){return l}});var P=s(28991),w=s(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]},name:"heart",theme:"outlined"},Z=D,j=s(27029),B=function(h,p){return w.createElement(j.Z,(0,P.Z)((0,P.Z)({},h),{},{ref:p,icon:Z}))};B.displayName="HeartOutlined";var l=w.forwardRef(B)},46870:function(ne,W,s){"use strict";s.d(W,{Z:function(){return l}});var P=s(28991),w=s(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 565H360c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"meh",theme:"outlined"},Z=D,j=s(27029),B=function(h,p){return w.createElement(j.Z,(0,P.Z)((0,P.Z)({},h),{},{ref:p,icon:Z}))};B.displayName="MehOutlined";var l=w.forwardRef(B)},54121:function(ne,W,s){"use strict";s.d(W,{Z:function(){return l}});var P=s(28991),w=s(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z"}}]},name:"minus-circle",theme:"filled"},Z=D,j=s(27029),B=function(h,p){return w.createElement(j.Z,(0,P.Z)((0,P.Z)({},h),{},{ref:p,icon:Z}))};B.displayName="MinusCircleFilled";var l=w.forwardRef(B)},81473:function(ne,W,s){"use strict";s.d(W,{Z:function(){return l}});var P=s(28991),w=s(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M136 384h56c4.4 0 8-3.6 8-8V200h176c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H196c-37.6 0-68 30.4-68 68v180c0 4.4 3.6 8 8 8zm512-184h176v176c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V196c0-37.6-30.4-68-68-68H648c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM376 824H200V648c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v180c0 37.6 30.4 68 68 68h180c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm512-184h-56c-4.4 0-8 3.6-8 8v176H648c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h180c37.6 0 68-30.4 68-68V648c0-4.4-3.6-8-8-8zm16-164H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"scan",theme:"outlined"},Z=D,j=s(27029),B=function(h,p){return w.createElement(j.Z,(0,P.Z)((0,P.Z)({},h),{},{ref:p,icon:Z}))};B.displayName="ScanOutlined";var l=w.forwardRef(B)},18613:function(ne,W,s){"use strict";s.d(W,{Z:function(){return l}});var P=s(28991),w=s(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"},Z=D,j=s(27029),B=function(h,p){return w.createElement(j.Z,(0,P.Z)((0,P.Z)({},h),{},{ref:p,icon:Z}))};B.displayName="SmileOutlined";var l=w.forwardRef(B)},89366:function(ne,W,s){"use strict";s.d(W,{Z:function(){return l}});var P=s(28991),w=s(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},Z=D,j=s(27029),B=function(h,p){return w.createElement(j.Z,(0,P.Z)((0,P.Z)({},h),{},{ref:p,icon:Z}))};B.displayName="UserOutlined";var l=w.forwardRef(B)},34442:function(){},31930:function(){},16695:function(){},76898:function(ne,W,s){"use strict";s.d(W,{Ff:function(){return ze},rF:function(){return xe},M2:function(){return Ce}});var P=s(22385),w=s(94199),D=s(11849),Z=s(93224),j=s(77883),B=s(85986),l=s(34792),d=s(48086),h=s(54707),p=s(49914),b=s(9761),t=s(94184),O=s.n(t),H=s(94657),J=s(78338),T=s(67294),N=s(85893);function ce(V){if(V=Number(V),V<=0)return"0:0:0";var re=Math.floor(V/3600),se=Math.floor(V%3600/60),me=Math.floor(V%3600%60),oe="".concat(re).padStart(2,"0"),le="".concat(se).padStart(2,"0"),Ae="".concat(me).padStart(2,"0");return"".concat(oe,":").concat(le,":").concat(Ae)}function F(V){return V<=60?"#ff4d4f":V<=180?"#faad14":"#52c41a"}var Q=(0,b.Pi)(function(){var V,re,se=(0,p.H)(),me=(0,h.Rk)(),oe=se.startTime,le=((V=se.project)===null||V===void 0||(re=V.setting.examSetting)===null||re===void 0?void 0:re.maxSubmitMinutes)||0,Ae=(0,T.useState)(0),R=(0,H.Z)(Ae,2),_=R[0],X=R[1],G=oe+le*60*1e3,q=(0,T.useRef)();return(0,T.useEffect)(function(){if(le!==0)return q.current=window.setInterval(function(){X((G-new Date().getTime())/1e3)},1e3),function(){clearInterval(q.current)}},[G]),(0,T.useEffect)(function(){_<0&&(me.submit(),clearInterval(q.current))},[_]),le===0?(0,N.jsx)(N.Fragment,{}):(0,N.jsxs)("div",{style:{position:"absolute",right:0,fontSize:13},children:[(0,N.jsx)(J.Z,{style:{marginRight:5,color:"#1890ff"}}),"\u5269\u4F59:",(0,N.jsx)("span",{style:{marginLeft:3,color:F(_)},children:ce(_)})]})}),ae=s(27400),de=s(3980),ie=["size","marked"],ue=(0,b.Pi)(function(){var V=(0,h.Rk)(),re=V.lazy,se=(0,ae.a)().user;return!re||!se?(0,N.jsx)(N.Fragment,{}):(0,N.jsxs)("div",{style:{marginTop:10,textWrap:"wrap",lineHeight:"24px",fontSize:12,color:"#707070"},children:["\u8FDE\u7EED\u505A\u5BF9",(0,N.jsx)(B.Z,{size:"small",style:{width:60,marginInline:4},defaultValue:se.correctTimes,min:0,max:100,onChange:function(oe){oe!==null&&de.hi.updateUserInfo({correctTimes:oe}).then(function(le){le.success&&d.default.success("\u66F4\u65B0\u6210\u529F")})}}),"\u2003\u6B21\uFF0C\u81EA\u52A8\u79FB\u51FA\u9519\u9898/0\u4EE3\u8868\u6C38\u4E0D\u79FB\u51FA"]})}),Ce=(0,b.Pi)(function(V){var re=(0,h.Rk)(),se=re.props.answerSheetVisible,me=V.size,oe=V.marked,le=oe===void 0?!0:oe,Ae=(0,Z.Z)(V,ie);return se?(0,N.jsx)(w.Z,{title:"\u6807\u8BB0",children:(0,N.jsx)("svg",(0,D.Z)((0,D.Z)({viewBox:"0 0 1024 1024",version:"1.1",width:V.size||24,height:V.size||24,className:"marked"},Ae),{},{children:(0,N.jsx)("path",{d:"M662.04973405 329.56834123l108.40905238-142.19888693c4.22372932-5.63163908 4.22372932-11.26327817 1.40790978-18.30282702-2.81581955-5.63163908-8.44745863-9.8553684-15.48700748-9.85536841H218.55815604c-9.8553684 0-16.89491725 7.03954885-16.89491725 16.89491726V867.38987389c0 9.8553684 7.03954885 16.89491725 16.89491725 16.89491726s16.89491725-7.03954885 16.89491726-16.89491726V487.25423562h522.33452519c7.03954885 0 12.67118794-4.22372932 15.48700749-9.8553684s1.40790977-12.67118794-2.81581955-18.30282703l-108.40905238-129.52769896z",fill:le?"#EA4942":"#d8d8d8"})}))}):(0,N.jsx)(N.Fragment,{})}),xe=(0,b.Pi)(function(V){var re,se,me,oe=V.id,le=V.name,Ae=(0,h.Rk)(),R=Ae.answerSheet,_=R.find(function($){return $.id===oe}),X=(0,p.H)(),G=X==null||(re=X.project)===null||re===void 0?void 0:re.isAuthenticated,q=(se=X.project)===null||se===void 0||(me=se.setting.examSetting)===null||me===void 0?void 0:me.randomSurveyWrong,he=Ae.exerciseMode;return(!he||!G||oe.length<=10)&&!q?(0,N.jsx)(N.Fragment,{}):_!=null&&_.favorite?(0,N.jsx)(w.Z,{title:q?"\u79FB\u51FA\u9519\u9898":"\u79FB\u51FA\u6536\u85CF",children:(0,N.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"24",height:"24",style:{float:"right"},onClick:function(){Ae.favoriteQuestion({templateId:oe,name:le},!1)},children:(0,N.jsx)("path",{d:"M484.266667 272.021333l6.634666 6.72c5.973333 5.973333 13.013333 12.842667 21.098667 20.629334l9.194667-8.917334c7.253333-7.04 13.44-13.184 18.56-18.432a193.28 193.28 0 0 1 277.44 0c75.904 77.525333 76.629333 202.794667 2.133333 281.194667L512 853.333333 204.672 553.237333c-74.474667-78.421333-73.770667-203.690667 2.133333-281.216a193.28 193.28 0 0 1 277.44 0z","p-id":"2829",fill:"#d81e06"})})}):(0,N.jsx)(w.Z,{title:q?"\u6DFB\u52A0\u5230\u9519\u9898":"\u6536\u85CF",children:(0,N.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:24,height:24,style:{float:"right"},onClick:function(){Ae.favoriteQuestion({templateId:oe,name:le})},children:(0,N.jsx)("path",{d:"M484.267 272.021l6.634 6.72c5.974 5.974 13.014 12.843 21.099 20.63l9.195-8.918c7.253-7.04 13.44-13.184 18.56-18.432a193.28 193.28 0 0 1 277.44 0c75.904 77.526 76.629 202.795 2.133 281.195L512 853.333 204.672 553.237c-74.475-78.421-73.77-203.69 2.133-281.216a193.28 193.28 0 0 1 277.44 0z m293.162 232.15c46.272-53.76 44.182-136.15-5.973-187.371a129.28 129.28 0 0 0-185.984 0l-15.125 15.104a1687.253 1687.253 0 0 1-4.395 4.31L512 388.18l-49.28-47.445-13.227-12.928-10.965-11.008a129.28 129.28 0 0 0-186.005 0c-51.456 52.565-52.31 137.963-2.198 191.573L512 763.883l261.675-255.531 3.754-4.181z","p-id":"2674",fill:"#d8d8d8"})})})}),je=(0,b.Pi)(function(V){var re=(0,h.Rk)(),se=V.finished,me=V.id,oe=V.marked,le=V.seqNo,Ae=V.isCorrect;return(0,N.jsxs)("div",{className:O()("answer-sheet-item",{marked:oe,finished:se,correct:Ae===!0,wrong:Ae===!1}),onClick:function(){return re.changePageIndex(me)},children:[le,oe&&(0,N.jsx)(Ce,{style:{position:"absolute",left:20,bottom:18},size:18})]})}),be=(0,b.Pi)(function(){var V=(0,h.Rk)(),re=V.answerSheet;return(0,N.jsx)(N.Fragment,{children:re.filter(function(se){return se.display!=="none"}).map(function(se,me){return(0,T.createElement)(je,(0,D.Z)((0,D.Z)({},se),{},{seqNo:me+1,key:se.id}))})})}),Me=(0,b.Pi)(function(){var V=(0,h.Rk)(),re=V.answerSheet,se=re.filter(function(le){return le.finished}).length,me=re.filter(function(le){return!le.finished}).length,oe=re.filter(function(le){return le.marked}).length;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"finished",children:["\u5DF2\u7B54",(0,N.jsx)("span",{style:{marginLeft:4},children:se})]}),(0,N.jsxs)("div",{className:"unFinished",children:["\u672A\u7B54",(0,N.jsx)("span",{style:{marginLeft:4},children:me})]}),(0,N.jsxs)("div",{className:"marked",children:[(0,N.jsx)(Ce,{size:18}),"\u6807\u8BB0",(0,N.jsx)("span",{style:{marginLeft:4},children:oe})]})]})}),Be=(0,b.Pi)(function(){return(0,N.jsxs)("div",{className:"answer-sheet-header",children:["\u7B54\u9898\u5361",(0,N.jsx)(Q,{})]})}),ze=(0,b.Pi)(function(){var V=(0,h.Rk)(),re=V.props.answerSheetVisible;return re?(0,N.jsxs)("div",{className:"answer-sheet",children:[(0,N.jsx)(Be,{}),(0,N.jsx)("div",{className:"answer-sheet-content",children:(0,N.jsx)(be,{})}),(0,N.jsx)("div",{className:"answer-sheet-footer",children:(0,N.jsx)(Me,{})}),(0,N.jsx)(ue,{})]}):(0,N.jsx)(N.Fragment,{})})},68209:function(ne,W,s){"use strict";s.r(W),s.d(W,{default:function(){return kn}});var P=s(9715),w=s(55843),D=s(94657),Z=s(40807),j=s(78210),B=s(9761),l=s(67294),d=s(54707),h=s(48187),p=s(76898),b=s(13525),t=s(85893),O=function(){var n=(0,d.AK)(),e=(0,l.useContext)(Z.ZX),i=e.schema;return(0,t.jsxs)("div",{className:n+"-header",children:[(0,t.jsx)("div",{className:n+"-header-title",children:(0,t.jsx)(b.hl,{html:i.title})}),(0,t.jsx)("div",{className:n+"-header-description",children:(0,t.jsx)(b.hl,{html:i.description})})]})},H=function(n){var e=(0,d.AK)();return(0,t.jsx)("div",{className:e+"-body",children:n.children})},J=s(57663),T=s(71577),N=(0,B.Pi)(function(){var r,n,e,i=(0,d.AK)("-footer"),a=(0,l.useContext)(Z.ZX),o=a.schema,v=a.loading,c=(0,d.Rk)(),u=c.pagination,f=u.pageSize>1,m=u.current===1,g=u.current===u.pageSize;return(0,t.jsxs)("div",{className:i,children:[g&&(0,t.jsx)("div",{className:i+"-desc",style:{userSelect:"none",WebkitTouchCallout:"none"},children:(0,t.jsx)(b.hl,{html:o==null||(r=o.attribute)===null||r===void 0?void 0:r.suffix})}),(0,t.jsxs)("div",{className:i+"-pagination",children:[f&&!m&&(0,t.jsx)("div",{children:(0,t.jsx)(T.Z,{type:"primary",block:!0,onClick:function(){return c.handlePrev()},children:"\u4E0A\u4E00\u9875"})}),f&&!g&&(0,t.jsx)("div",{children:(0,t.jsx)(T.Z,{type:"primary",block:!0,onClick:function(){return c.handleNext()},children:"\u4E0B\u4E00\u9875"})}),g&&!f&&(0,t.jsx)("div",{style:{width:"100%",padding:"0 20px"},children:(0,t.jsx)(T.Z,{type:"primary",block:!0,onClick:function(){return c.submit()},loading:v,children:(0,t.jsx)(b.hl,{html:((n=o.attribute)===null||n===void 0?void 0:n.submitButton)||"\u63D0\u4EA4"})})}),g&&f&&(0,t.jsx)("div",{children:(0,t.jsx)(T.Z,{type:"primary",onClick:function(){return c.submit()},loading:v,children:(0,t.jsx)(b.hl,{html:((e=o.attribute)===null||e===void 0?void 0:e.submitButton)||"\u63D0\u4EA4"})})}),f&&(0,t.jsxs)("div",{className:i+"-pagination-info",children:["\u7B2C",u.current,"\u9875/\u5171",u.pageSize,"\u9875"]})]})]})}),ce=s(47673),F=s(4107),Q=s(11849),ae=s(43358),de=s(34041),ie=s(29985),ue=s(46842),Ce=s(64302),xe=function(n){var e=n.dictCode,i=n.value,a=n.onChange,o=n.style,v=n.bordered,c=n.className,u=n.parentValue,f=n.cascaderLevel,m=f===void 0?1:f,g=(0,d.Al)(),y=(0,l.useState)([]),C=(0,D.Z)(y,2),A=C[0],x=C[1],E=(0,d.zE)(function(M){m&&m>1&&!u||g.onDictSearch&&g.onDictSearch({dictCode:e,searchValue:M,parentValue:u==null?void 0:u.split("|")[0],cascaderLevel:m}).then(function(S){x(S||[])})},2);return(0,l.useEffect)(function(){m&&m>1&&(u?E(void 0):x([]))},[u,m]),(0,l.useEffect)(function(){!i&&m<=1&&e&&E(void 0),i&&A.length===0&&E(i)},[i]),(0,t.jsx)(de.Z,{options:A,showSearch:!0,filterOption:function(S,I){var k;return((k=I==null?void 0:I.label)!==null&&k!==void 0?k:"").includes(S)},value:(i==null?void 0:i.split("|")[0])||"",onChange:function(S){var I;if(S===void 0){a(void 0);return}a("".concat(S||"","|").concat(((I=A.find(function(k){return k.value===S}))===null||I===void 0?void 0:I.label)||""))},style:o,bordered:v,className:c,allowClear:!0})},je=function(n){var e,i=n.onChange,a=n.type,o=n.value,v=n.suffix,c=n.prefix,u=n.style,f=u===void 0?{width:"100%"}:u,m=n.bordered,g=m===void 0?!0:m,y=n.className,C=n.dictCode,A=n.parentValue,x=n.cascaderLevel,E=n.icon,M=E===void 0?!0:E,S=n.readOnly,I=n.schema,k=n.dateTimeFormat,L=n.onBlur,K=L===void 0?function(){}:L,z=n.placeholder,te=z===void 0?I==null||(e=I.attribute)===null||e===void 0?void 0:e.placeholder:z;if(a==="horzBlank")return(0,t.jsx)(t.Fragment,{});if(a==="selectDict"&&C)return(0,t.jsx)(xe,{value:o,onChange:i,dictCode:C,style:f,bordered:g,className:y,parentValue:A,cascaderLevel:x});if(a==="select"&&I!==null&&I!==void 0&&I.dataSource)return(0,t.jsx)(de.Z,{options:I.dataSource,style:{width:"100%",opacity:"unset"},bordered:g,onChange:i,className:y});if(a==="number")return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(F.Z,{onChange:function(U){U.target.value===""?i(""):i(U.target.value)},prefix:c,type:"number",value:o,style:(0,Q.Z)((0,Q.Z)({},f),{},{paddingLeft:20}),onBlur:function(U){var ve=U.target.value;K(ve===""?void 0:parseFloat(ve))},suffix:v,inputMode:"decimal",bordered:g,placeholder:te,className:y,readOnly:S})});if(a==="date"){var ee;return(0,t.jsx)($,{onChange:function(U){return i(U)},value:o,style:f,bordered:g,placeholder:te,readOnly:S,className:y,dateTimeFormat:k||(I==null||(ee=I.attribute)===null||ee===void 0?void 0:ee.dateTimeFormat)})}return a==="mobile"?(0,t.jsx)(F.Z,{prefix:M?c||(0,t.jsx)(ie.Z,{}):void 0,onChange:function(U){return i(U.target.value)},value:o,bordered:g,placeholder:te,className:y,readOnly:S,onBlur:function(U){K(U.target.value)}}):a==="idCard"?(0,t.jsx)(F.Z,{prefix:M?c||(0,t.jsx)(ue.Z,{}):void 0,onChange:function(U){return i(U.target.value)},value:o,style:f,bordered:g,placeholder:te,className:y,readOnly:S,onBlur:function(U){K(U.target.value)}}):a==="email"?(0,t.jsx)(F.Z,{prefix:M?c||(0,t.jsx)(Ce.Z,{}):void 0,onChange:function(U){return i(U.target.value)},value:o,style:f,bordered:g,placeholder:te,className:y,readOnly:S,onBlur:function(U){K(U.target.value)}}):(0,t.jsx)(F.Z,{onChange:function(U){return i(U.target.value)},value:o,suffix:v,prefix:c,style:f,bordered:g,placeholder:te,className:y,readOnly:S,onBlur:function(U){K(U.target.value)}})},be=s(57254),Me=function(n){var e=n.options,i=n.onChange,a=n.value;return(0,t.jsxs)("div",{className:"native-select",children:[(0,t.jsxs)("select",{onChange:function(v){return i(v.target.value)},value:a,className:"native-select__select",children:[(0,t.jsx)("option",{children:"\u8BF7\u9009\u62E9"}),e==null?void 0:e.map(function(o){return(0,t.jsx)("option",{value:o.value,children:o.label},o.value)})]}),(0,t.jsx)("span",{className:"native-select__arrow",children:(0,t.jsx)(be.Z,{})})]})};/*!
 * mobileSelect.js
 * (c) 2017-present onlyhom
 * Released under the MIT License.
 */function Be(r,n){return r.getElementsByClassName(n)}function ze(r){this.mobileSelect,this.wheelsData=r.wheels,this.jsonType=!1,this.cascadeJsonData=[],this.displayJson=[],this.curValue=null,this.curIndexArr=[],this.cascade=!1,this.startY,this.moveEndY,this.moveY,this.oldMoveY,this.offset=0,this.offsetSum=0,this.oversizeBorder,this.curDistance=[],this.clickStatus=!1,this.isPC=!0,this.init(r)}ze.prototype={constructor:ze,init:function(n){var e=this;if(e.keyMap=n.keyMap?n.keyMap:{id:"id",value:"value",childs:"childs"},e.checkDataType(),e.renderWheels(e.wheelsData,n.cancelBtnText,n.ensureBtnText,n.container),e.wheel=Be(e.mobileSelect,"wheel"),e.slider=Be(e.mobileSelect,"selectContainer"),e.wheels=e.mobileSelect.querySelector(".wheels"),e.liHeight=e.mobileSelect.querySelector("li").offsetHeight,e.ensureBtn=e.mobileSelect.querySelector(".ensure"),e.cancelBtn=e.mobileSelect.querySelector(".cancel"),e.grayLayer=e.mobileSelect.querySelector(".grayLayer"),e.popUp=e.mobileSelect.querySelector(".content"),e.callback=n.callback||function(){},e.transitionEnd=n.transitionEnd||function(){},e.onShow=n.onShow||function(){},e.onHide=n.onHide||function(){},e.initPosition=n.position||[],e.titleText=n.title||"",e.connector=n.connector||" ",e.triggerDisplayData=typeof n.triggerDisplayData!="undefined"?n.triggerDisplayData:!0,e.setStyle(n),e.setTitle(e.titleText),e.checkIsPC(),e.checkCascade(),e.addListenerAll(),e.cascade&&e.initCascade(),e.initPosition.length<e.slider.length)for(var i=e.slider.length-e.initPosition.length,a=0;a<i;a++)e.initPosition.push(0);e.setCurDistance(e.initPosition),e.cancelBtn.addEventListener("click",function(o){e.hide()}),e.ensureBtn.addEventListener("click",function(o){e.hide(),e.liHeight||(e.liHeight=e.mobileSelect.querySelector("li").offsetHeight);for(var v="",c=0;c<e.wheel.length;c++)c==e.wheel.length-1?v+=e.getInnerHtml(c):v+=e.getInnerHtml(c)+e.connector;e.curIndexArr=e.getIndexArr(),e.curValue=e.getCurValue(),e.callback(e.curIndexArr,e.curValue)}),e.grayLayer.addEventListener("click",function(o){e.hide()}),e.popUp.addEventListener("click",function(o){o.stopPropagation()}),e.fixRowStyle()},setTitle:function(n){var e=this;e.titleText=n,e.mobileSelect.querySelector(".title").innerHTML=e.titleText},setStyle:function(n){var e=this;n.ensureBtnColor&&(e.ensureBtn.style.color=n.ensureBtnColor),n.cancelBtnColor&&(e.cancelBtn.style.color=n.cancelBtnColor),n.titleColor&&(e.title=e.mobileSelect.querySelector(".title"),e.title.style.color=n.titleColor),n.textColor&&(e.panel=e.mobileSelect.querySelector(".panel"),e.panel.style.color=n.textColor),n.titleBgColor&&(e.btnBar=e.mobileSelect.querySelector(".btnBar"),e.btnBar.style.backgroundColor=n.titleBgColor),n.bgColor&&(e.panel=e.mobileSelect.querySelector(".panel"),e.shadowMask=e.mobileSelect.querySelector(".shadowMask"),e.panel.style.backgroundColor=n.bgColor,e.shadowMask.style.background="linear-gradient(to bottom, "+n.bgColor+", rgba(255, 255, 255, 0), "+n.bgColor+")"),isNaN(n.maskOpacity)||(e.grayMask=e.mobileSelect.querySelector(".grayLayer"),e.grayMask.style.background="rgba(0, 0, 0, "+n.maskOpacity+")")},checkIsPC:function(){var n=this,e=navigator.userAgent.toLowerCase(),i=e.match(/ipad/i)=="ipad",a=e.match(/iphone os/i)=="iphone os",o=e.match(/midp/i)=="midp",v=e.match(/rv:1.2.3.4/i)=="rv:1.2.3.4",c=e.match(/ucweb/i)=="ucweb",u=e.match(/android/i)=="android",f=e.match(/windows ce/i)=="windows ce",m=e.match(/windows mobile/i)=="windows mobile";(i||a||o||v||c||u||f||m)&&(n.isPC=!1)},show:function(){this.mobileSelect.classList.add("mobileSelect-show"),typeof this.onShow=="function"&&this.onShow(this)},hide:function(){this.mobileSelect.classList.remove("mobileSelect-show"),typeof this.onHide=="function"&&this.onHide(this)},renderWheels:function(n,e,i,a){var o=this,v=e||"\u53D6\u6D88",c=i||"\u786E\u8BA4";o.mobileSelect=document.createElement("div"),o.mobileSelect.className="mobileSelect",o.mobileSelect.innerHTML='<div class="grayLayer"></div><div class="content"><div class="btnBar"><div class="fixWidth"><div class="cancel">'+v+'</div><div class="title"></div><div class="ensure">'+c+'</div></div></div><div class="panel"><div class="fixWidth"><div class="wheels"></div><div class="selectLine"></div><div class="shadowMask"></div></div></div></div>',a?a.appendChild(o.mobileSelect):document.body.appendChild(o.mobileSelect);for(var u="",f=0;f<n.length;f++){if(u+='<div class="wheel"><ul class="selectContainer">',o.jsonType)for(var m=0;m<n[f].data.length;m++)u+='<li data-id="'+n[f].data[m][o.keyMap.id]+'">'+n[f].data[m][o.keyMap.value]+"</li>";else for(var m=0;m<n[f].data.length;m++)u+="<li>"+n[f].data[m]+"</li>";u+="</ul></div>"}o.mobileSelect.querySelector(".wheels").innerHTML=u},addListenerAll:function(){for(var n=this,e=0;e<n.slider.length;e++)(function(i){n.addListenerWheel(n.wheel[i],i)})(e)},addListenerWheel:function(n,e){var i=this;n.addEventListener("touchstart",function(a){i.touch(a,this.firstChild,e)},!1),n.addEventListener("touchend",function(a){i.touch(a,this.firstChild,e)},!1),n.addEventListener("touchmove",function(a){i.touch(a,this.firstChild,e)},!1),i.isPC&&(n.addEventListener("mousedown",function(a){i.dragClick(a,this.firstChild,e)},!1),n.addEventListener("mousemove",function(a){i.dragClick(a,this.firstChild,e)},!1),n.addEventListener("mouseup",function(a){i.dragClick(a,this.firstChild,e)},!0))},checkDataType:function(){var n=this;typeof n.wheelsData[0].data[0]=="object"&&(n.jsonType=!0)},checkCascade:function(){var n=this;if(n.jsonType){for(var e=n.wheelsData[0].data,i=0;i<e.length;i++)if(n.keyMap.childs in e[i]&&e[i][n.keyMap.childs].length>0){n.cascade=!0,n.cascadeJsonData=n.wheelsData[0].data;break}}else n.cascade=!1},generateArrData:function(n){for(var e=[],i=this.keyMap.id,a=this.keyMap.value,o=0;o<n.length;o++){var v={};v[i]=n[o][this.keyMap.id],v[a]=n[o][this.keyMap.value],e.push(v)}return e},initCascade:function(){var n=this;n.displayJson.push(n.generateArrData(n.cascadeJsonData)),n.initPosition.length>0?(n.initDeepCount=0,n.initCheckArrDeep(n.cascadeJsonData[n.initPosition[0]])):n.checkArrDeep(n.cascadeJsonData[0]),n.reRenderWheels()},initCheckArrDeep:function(n){var e=this;if(n&&e.keyMap.childs in n&&n[e.keyMap.childs].length>0){e.displayJson.push(e.generateArrData(n[e.keyMap.childs])),e.initDeepCount++;var i=n[e.keyMap.childs][e.initPosition[e.initDeepCount]];i?e.initCheckArrDeep(i):e.checkArrDeep(n[e.keyMap.childs][0])}},checkArrDeep:function(n){var e=this;n&&e.keyMap.childs in n&&n[e.keyMap.childs].length>0&&(e.displayJson.push(e.generateArrData(n[e.keyMap.childs])),e.checkArrDeep(n[e.keyMap.childs][0]))},checkRange:function(n,e){for(var i=this,a=i.displayJson.length-1-n,o=0;o<a;o++)i.displayJson.pop();for(var v,o=0;o<=n;o++)o==0?v=i.cascadeJsonData[e[0]]:v=v[i.keyMap.childs][e[o]];i.checkArrDeep(v),i.reRenderWheels(),i.fixRowStyle(),i.setCurDistance(i.resetPosition(n,e))},resetPosition:function(n,e){var i=this,a=e,o;if(i.slider.length>e.length){o=i.slider.length-e.length;for(var v=0;v<o;v++)a.push(0)}else if(i.slider.length<e.length){o=e.length-i.slider.length;for(var v=0;v<o;v++)a.pop()}for(var v=n+1;v<a.length;v++)a[v]=0;return a},reRenderWheels:function(){var n=this;if(n.wheel.length>n.displayJson.length)for(var e=n.wheel.length-n.displayJson.length,i=0;i<e;i++)n.wheels.removeChild(n.wheel[n.wheel.length-1]);for(var i=0;i<n.displayJson.length;i++)(function(o){var v="";if(n.wheel[o]){for(var c=0;c<n.displayJson[o].length;c++)v+='<li data-id="'+n.displayJson[o][c][n.keyMap.id]+'">'+n.displayJson[o][c][n.keyMap.value]+"</li>";n.slider[o].innerHTML=v}else{var u=document.createElement("div");u.className="wheel",v='<ul class="selectContainer">';for(var c=0;c<n.displayJson[o].length;c++)v+='<li data-id="'+n.displayJson[o][c][n.keyMap.id]+'">'+n.displayJson[o][c][n.keyMap.value]+"</li>";v+="</ul>",u.innerHTML=v,n.addListenerWheel(u,o),n.wheels.appendChild(u)}})(i)},updateWheels:function(n){var e=this;if(e.cascade){if(e.cascadeJsonData=n,e.displayJson=[],e.initCascade(),e.initPosition.length<e.slider.length)for(var i=e.slider.length-e.initPosition.length,a=0;a<i;a++)e.initPosition.push(0);e.setCurDistance(e.initPosition),e.fixRowStyle()}},updateWheel:function(n,e){var i=this,a="";if(i.cascade)return console.error("\u7EA7\u8054\u683C\u5F0F\u4E0D\u652F\u6301updateWheel(),\u8BF7\u4F7F\u7528updateWheels()\u66F4\u65B0\u6574\u4E2A\u6570\u636E\u6E90"),!1;if(i.jsonType){for(var o=0;o<e.length;o++)a+='<li data-id="'+e[o][i.keyMap.id]+'">'+e[o][i.keyMap.value]+"</li>";i.wheelsData[n]={data:e}}else{for(var o=0;o<e.length;o++)a+="<li>"+e[o]+"</li>";i.wheelsData[n]=e}i.slider[n].innerHTML=a},fixRowStyle:function(){for(var n=this,e=(100/n.wheel.length).toFixed(2)-2,i=0;i<n.wheel.length;i++);},getIndex:function(n){return Math.round((2*this.liHeight-n)/this.liHeight)},getIndexArr:function(){for(var n=this,e=[],i=0;i<n.curDistance.length;i++)e.push(n.getIndex(n.curDistance[i]));return e},getCurValue:function(){var n=this,e=[],i=n.getIndexArr();if(n.cascade)for(var a=0;a<n.wheel.length;a++)e.push(n.displayJson[a][i[a]]);else if(n.jsonType)for(var a=0;a<n.curDistance.length;a++)e.push(n.wheelsData[a].data[n.getIndex(n.curDistance[a])]);else for(var a=0;a<n.curDistance.length;a++)e.push(n.getInnerHtml(a));return e},getValue:function(){return this.curValue},calcDistance:function(n){return 2*this.liHeight-n*this.liHeight},setCurDistance:function(n){for(var e=this,i=[],a=0;a<e.slider.length;a++)i.push(e.calcDistance(n[a])),e.movePosition(e.slider[a],i[a]);e.curDistance=i},fixPosition:function(n){return-(this.getIndex(n)-2)*this.liHeight},movePosition:function(n,e){n.style.webkitTransform="translate3d(0,"+e+"px, 0)",n.style.transform="translate3d(0,"+e+"px, 0)"},locatePosition:function(n,e){var i=this;this.curDistance[n]=this.calcDistance(e),this.movePosition(this.slider[n],this.curDistance[n]),i.cascade&&i.checkRange(n,i.getIndexArr())},updateCurDistance:function(n,e){n.style.transform?this.curDistance[e]=parseInt(n.style.transform.split(",")[1]):this.curDistance[e]=parseInt(n.style.webkitTransform.split(",")[1])},getDistance:function(n){return n.style.transform?parseInt(n.style.transform.split(",")[1]):parseInt(n.style.webkitTransform.split(",")[1])},getInnerHtml:function(n){var e=this,i=e.slider[n].getElementsByTagName("li").length,a=e.getIndex(e.curDistance[n]);return a>=i?a=i-1:a<0&&(a=0),e.slider[n].getElementsByTagName("li")[a].innerHTML},touch:function(n,e,i){var a=this;switch(n=n||window.event,n.type){case"touchstart":a.startY=n.touches[0].clientY,a.startY=parseInt(a.startY),a.oldMoveY=a.startY;break;case"touchend":if(a.moveEndY=parseInt(n.changedTouches[0].clientY),a.offsetSum=a.moveEndY-a.startY,a.oversizeBorder=-(e.getElementsByTagName("li").length-3)*a.liHeight,a.offsetSum==0){var o=parseInt((document.documentElement.clientHeight-a.moveEndY)/40);if(o!=2){var v=o-2,c=a.curDistance[i]+v*a.liHeight;c<=2*a.liHeight&&c>=a.oversizeBorder&&(a.curDistance[i]=c,a.movePosition(e,a.curDistance[i]),a.transitionEnd(a.getIndexArr(),a.getCurValue(),i))}}else a.updateCurDistance(e,i),a.curDistance[i]=a.fixPosition(a.curDistance[i]),a.movePosition(e,a.curDistance[i]),a.curDistance[i]+a.offsetSum>2*a.liHeight?(a.curDistance[i]=2*a.liHeight,setTimeout(function(){a.movePosition(e,a.curDistance[i])},100)):a.curDistance[i]+a.offsetSum<a.oversizeBorder&&(a.curDistance[i]=a.oversizeBorder,setTimeout(function(){a.movePosition(e,a.curDistance[i])},100)),a.transitionEnd(a.getIndexArr(),a.getCurValue(),i);a.cascade&&a.checkRange(i,a.getIndexArr());break;case"touchmove":n.preventDefault(),a.moveY=n.touches[0].clientY,a.offset=a.moveY-a.oldMoveY,a.updateCurDistance(e,i),a.curDistance[i]=a.curDistance[i]+a.offset,a.movePosition(e,a.curDistance[i]),a.oldMoveY=a.moveY;break}},dragClick:function(n,e,i){var a=this;switch(n=n||window.event,n.type){case"mousedown":a.startY=n.clientY,a.oldMoveY=a.startY,a.clickStatus=!0;break;case"mouseup":if(a.moveEndY=n.clientY,a.offsetSum=a.moveEndY-a.startY,a.oversizeBorder=-(e.getElementsByTagName("li").length-3)*a.liHeight,a.offsetSum==0){var o=parseInt((document.documentElement.clientHeight-a.moveEndY)/40);if(o!=2){var v=o-2,c=a.curDistance[i]+v*a.liHeight;c<=2*a.liHeight&&c>=a.oversizeBorder&&(a.curDistance[i]=c,a.movePosition(e,a.curDistance[i]),a.transitionEnd(a.getIndexArr(),a.getCurValue(),i))}}else a.updateCurDistance(e,i),a.curDistance[i]=a.fixPosition(a.curDistance[i]),a.movePosition(e,a.curDistance[i]),a.curDistance[i]+a.offsetSum>2*a.liHeight?(a.curDistance[i]=2*a.liHeight,setTimeout(function(){a.movePosition(e,a.curDistance[i])},100)):a.curDistance[i]+a.offsetSum<a.oversizeBorder&&(a.curDistance[i]=a.oversizeBorder,setTimeout(function(){a.movePosition(e,a.curDistance[i])},100)),a.transitionEnd(a.getIndexArr(),a.getCurValue(),i);a.clickStatus=!1,a.cascade&&a.checkRange(i,a.getIndexArr());break;case"mousemove":n.preventDefault(),a.clickStatus&&(a.moveY=n.clientY,a.offset=a.moveY-a.oldMoveY,a.updateCurDistance(e,i),a.curDistance[i]=a.curDistance[i]+a.offset,a.movePosition(e,a.curDistance[i]),a.oldMoveY=a.moveY);break}}};var V=s(16165),re=function(){return _jsx("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:_jsx("path",{d:"M237.136842 668.294737c-5.389474-5.389474-10.778947-10.778947-10.778947-16.168421V355.705263v-21.557895-26.947368-32.336842c0-10.778947 0-21.557895 5.389473-26.947369l-5.389473-5.389473-80.842106 32.336842c-26.947368 5.389474-59.284211 16.168421-91.621052 26.947368l5.389474 21.557895 107.789473-16.168421v334.147368c0 10.778947-5.389474 16.168421-10.778947 21.557895-5.389474 5.389474-16.168421 10.778947-32.336842 10.778948-10.778947 0-32.336842 5.389474-53.894737 5.389473v16.168421H323.368421v-21.557894c-21.557895 0-37.726316 0-48.505263-5.389474-21.557895 10.778947-32.336842 5.389474-37.726316 0z m414.989474-43.11579c0-10.778947 5.389474-16.168421 5.389473-26.947368l-16.168421-5.389474c-5.389474 16.168421-10.778947 26.947368-16.168421 32.336842-5.389474 5.389474-10.778947 16.168421-16.168421 16.168421-5.389474 5.389474-10.778947 5.389474-16.168421 5.389474h-16.168421l-172.463158 5.389474 107.789474-102.4c16.168421-16.168421 32.336842-26.947368 48.505263-43.11579 16.168421-16.168421 26.947368-26.947368 37.726316-43.115789 10.778947-16.168421 21.557895-32.336842 26.947368-48.505263 5.389474-16.168421 10.778947-37.726316 10.778948-53.894737 0-21.557895-5.389474-37.726316-10.778948-53.894737-10.778947-16.168421-21.557895-26.947368-32.336842-37.726316-16.168421-10.778947-32.336842-16.168421-48.505263-21.557895-21.557895-5.389474-37.726316-10.778947-59.28421-10.778947-21.557895 0-48.505263 5.389474-70.063158 10.778947-16.168421 10.778947-37.726316 21.557895-59.284211 32.336843 0 16.168421 0 32.336842 5.389474 48.505263v53.894737h21.557895c0-16.168421 5.389474-26.947368 10.778947-37.726316l16.168421-32.336842c5.389474-10.778947 16.168421-16.168421 26.947368-21.557895 10.778947-5.389474 21.557895-5.389474 37.726316-5.389474 10.778947 0 26.947368 0 37.726316 5.389474 10.778947 5.389474 21.557895 10.778947 32.336842 21.557895 10.778947 10.778947 16.168421 16.168421 21.557895 32.336842 5.389474 10.778947 5.389474 26.947368 5.389474 37.726316 0 16.168421-5.389474 32.336842-10.778948 48.505263-5.389474 16.168421-16.168421 32.336842-26.947368 48.505263-5.389474 10.778947-21.557895 26.947368-32.336842 43.115789l-48.505264 48.505264-123.957894 123.957894 5.389473 5.389474h301.810527v-21.557895c0-10.778947 5.389474-16.168421 5.389473-26.947368 5.389474-10.778947 10.778947-21.557895 10.778948-26.947369z m307.2-80.842105c-5.389474-10.778947-16.168421-26.947368-21.557895-32.336842-10.778947-10.778947-21.557895-21.557895-37.726316-26.947368-10.778947-5.389474-26.947368-10.778947-43.115789-16.168421 16.168421-10.778947 32.336842-26.947368 43.115789-37.726316 10.778947-10.778947 21.557895-21.557895 26.947369-32.336842 5.389474-10.778947 10.778947-21.557895 10.778947-26.947369v-16.168421c0-16.168421-5.389474-32.336842-10.778947-48.505263-10.778947-10.778947-21.557895-26.947368-32.336842-32.336842-10.778947-10.778947-26.947368-16.168421-43.11579-21.557895-16.168421-5.389474-32.336842-5.389474-48.505263-5.389474-26.947368 0-48.505263 5.389474-70.063158 10.778948s-43.115789 16.168421-64.673684 32.336842v91.621053h21.557895c0-16.168421 5.389474-26.947368 10.778947-37.726316 5.389474-10.778947 10.778947-21.557895 21.557895-26.947369 10.778947-5.389474 16.168421-16.168421 26.947368-16.168421 10.778947-5.389474 21.557895-5.389474 37.726316-5.389473 10.778947 0 21.557895 0 32.336842 5.389473 10.778947 5.389474 21.557895 10.778947 26.947368 16.168421 5.389474 5.389474 16.168421 16.168421 21.557895 26.947369 5.389474 10.778947 5.389474 21.557895 5.389474 32.336842 0 21.557895-5.389474 37.726316-16.168421 53.894737-10.778947 16.168421-21.557895 26.947368-37.726316 37.726316-16.168421 10.778947-32.336842 16.168421-48.505263 21.557894-16.168421 5.389474-37.726316 10.778947-53.894737 16.168421l5.389474 26.947369c5.389474-5.389474 16.168421-5.389474 26.947368-5.389474h26.947369c16.168421 0 32.336842 0 48.505263 5.389474 16.168421 5.389474 26.947368 10.778947 37.726315 21.557894 10.778947 10.778947 16.168421 21.557895 26.947369 32.336843 5.389474 16.168421 10.778947 32.336842 10.778947 48.505263 0 16.168421 0 32.336842-5.389473 48.505263-5.389474 16.168421-10.778947 26.947368-21.557895 37.726316-10.778947 10.778947-21.557895 21.557895-37.726316 26.947368-16.168421 5.389474-32.336842 10.778947-48.505263 10.778947-21.557895 0-37.726316-5.389474-59.284211-10.778947-21.557895-10.778947-37.726316-21.557895-48.505263-32.336842-10.778947 0-16.168421 5.389474-26.947368 16.168421-5.389474-16.168421-5.389474-5.389474-5.389474 5.389474s5.389474 16.168421 10.778947 21.557894c5.389474 5.389474 10.778947 10.778947 21.557895 16.168422 10.778947 5.389474 16.168421 5.389474 26.947369 5.389473h32.336842c26.947368 0 53.894737-5.389474 86.231579-10.778947 26.947368-10.778947 53.894737-21.557895 75.452631-37.726316 21.557895-16.168421 43.115789-37.726316 53.894737-64.673684 16.168421-26.947368 21.557895-53.894737 21.557895-86.231579-5.389474-10.778947-10.778947-26.947368-16.168421-37.726316z",fill:"#bfbfbf"})})},se=function(n){return _jsx(Icon,_objectSpread({component:re},n))},me=function(){return(0,t.jsx)("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:(0,t.jsx)("path",{d:"M682.666667 213.333333a21.333333 21.333333 0 0 1 20.992 17.493334l0.341333 3.84v42.666666H810.666667a42.666667 42.666667 0 0 1 42.666666 42.666667v469.333333a42.666667 42.666667 0 0 1-42.666666 42.666667H256a42.666667 42.666667 0 0 1-42.666667-42.666667v-469.333333a42.666667 42.666667 0 0 1 42.666667-42.666667h106.666667v-42.666666a21.333333 21.333333 0 0 1 42.325333-3.84l0.341333 3.84v42.666666h256v-42.666666A21.333333 21.333333 0 0 1 682.666667 213.333333z m128 234.666667H256v341.333333h554.666667v-341.333333z m-448-128H256v85.333333h554.666667v-85.333333h-106.666667V341.333333a21.333333 21.333333 0 0 1-42.325333 3.84L661.333333 341.333333v-21.333333h-256V341.333333a21.333333 21.333333 0 0 1-42.325333 3.84L362.666667 341.333333v-21.333333z",fill:"#bfbfbf","p-id":"4605"})})},oe=function(n){return(0,t.jsx)(V.Z,(0,Q.Z)({component:me},n))},le=function(){return _jsx("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:_jsx("path",{d:"M510.61572266 166.37561035A368.95935059 368.95935059 0 0 0 141.70581055 535.33496094a368.95935059 368.95935059 0 0 0 368.95935059 368.95935059 368.95935059 368.95935059 0 0 0 368.95935058-368.95935059A368.95935059 368.95935059 0 0 0 510.61572266 166.42504883z m0 688.77685547a319.86694336 319.86694336 0 0 1 0-639.63500977 319.86694336 319.86694336 0 0 1 0 639.63500977z m159.93347168-295.24658204h-159.93347168V400.02185058a12.35961914 12.35961914 0 0 0-12.26074219-12.31018066h-24.62036133a12.35961914 12.35961914 0 0 0-12.26074219 12.31018067v196.76513671a12.35961914 12.35961914 0 0 0 12.26074219 12.31018067h196.76513672a12.35961914 12.35961914 0 0 0 12.35961914-12.31018066v-24.57092286a12.26074219 12.26074219 0 0 0-12.35961914-12.31018066z","p-id":"9722",fill:"#bfbfbf"})})},Ae=function(n){return _jsx(Icon,_objectSpread({component:le},n))},R=function(){return _jsx("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:_jsx("path",{d:"M566.272 217.088c-11.264-7.168-24.576-11.264-41.984-11.264-4.096 0-8.192 0-12.288 1.024-45.056 7.168-74.752 48.128-93.184 87.04-8.192 18.432-15.36 37.888-22.528 56.32-3.072 9.216-7.168 17.408-10.24 26.624 0 1.024-5.12 18.432-6.144 18.432h-46.08c-6.144 0-11.264 5.12-11.264 11.264 0 6.144 5.12 11.264 11.264 11.264h39.936l-22.528 96.256c-22.528 107.52-53.248 230.4-60.416 251.904-7.168 22.528-17.408 33.792-31.744 33.792-3.072 0-5.12-1.024-7.168-2.048-2.048-1.024-3.072-3.072-3.072-5.12s1.024-5.12 4.096-9.216c3.072-4.096 4.096-9.216 4.096-13.312 0-8.192-3.072-15.36-8.192-20.48-6.144-5.12-12.288-7.168-19.456-7.168s-14.336 3.072-20.48 8.192c-1.024 7.168-4.096 14.336-4.096 23.552 0 12.288 5.12 22.528 15.36 31.744 10.24 9.216 23.552 13.312 40.96 13.312 27.648 0 52.224-12.288 70.656-33.792 11.264-13.312 19.456-28.672 26.624-45.056 22.528-50.176 34.816-105.472 48.128-158.72 13.312-54.272 25.6-108.544 36.864-162.816h44.032c6.144 0 11.264-5.12 11.264-11.264 0-6.144-5.12-11.264-11.264-11.264h-40.96c22.528-84.992 48.128-143.36 53.248-151.552 8.192-14.336 17.408-21.504 27.648-21.504 4.096 0 6.144 1.024 7.168 3.072 1.024 2.048 2.048 4.096 2.048 5.12 0 1.024-1.024 4.096-4.096 9.216-3.072 5.12-4.096 10.24-4.096 15.36 0 7.168 3.072 13.312 8.192 18.432s12.288 8.192 19.456 8.192 14.336-3.072 19.456-8.192 8.192-12.288 8.192-21.504c-1.024-17.408-6.144-28.672-17.408-35.84z m204.8 258.048c16.384 0 48.128-13.312 48.128-56.32s-30.72-45.056-40.96-45.056c-18.432 0-37.888 13.312-54.272 41.984-16.384 28.672-34.816 61.44-34.816 61.44h-1.024c-4.096-20.48-7.168-36.864-9.216-45.056-3.072-17.408-23.552-56.32-66.56-56.32s-81.92 24.576-81.92 24.576c-7.168 4.096-12.288 12.288-12.288 21.504 0 14.336 11.264 25.6 25.6 25.6 4.096 0 8.192-1.024 11.264-3.072 0 0 32.768-18.432 38.912 0 2.048 5.12 4.096 11.264 6.144 17.408 8.192 27.648 15.36 60.416 22.528 90.112L596.992 593.92s-31.744-11.264-48.128-11.264-48.128 13.312-48.128 56.32 30.72 45.056 40.96 45.056c18.432 0 37.888-13.312 54.272-41.984 16.384-28.672 34.816-61.44 34.816-61.44 5.12 26.624 10.24 48.128 13.312 56.32 10.24 30.72 34.816 48.128 67.584 48.128 0 0 33.792 0 72.704-22.528 9.216-4.096 16.384-13.312 16.384-23.552 0-14.336-11.264-25.6-25.6-25.6-4.096 0-8.192 1.024-11.264 3.072 0 0-27.648 15.36-37.888 3.072-7.168-13.312-12.288-30.72-17.408-52.224-4.096-19.456-9.216-41.984-13.312-63.488l28.672-40.96c-1.024 1.024 30.72 12.288 47.104 12.288z","p-id":"1938",fill:"#bfbfbf"})})},_=function(n){return _jsx(Icon,_objectSpread({component:R},n))},X=s(27484),G=s.n(X);function q(r,n){for(var e=[],i=r;i<=n;i++)e.push("".concat(i).padStart(2,"0"));return e}function he(r,n){var e=31;return[1,3,5,7,8,10,12].indexOf(parseInt(n))!=-1?e=31:(e=30,n==2&&r%4==0?e=29:n==2&&r%4!=0&&(e=28)),e}var $=function(n){var e=n.onChange,i=n.value,a=i===void 0?"":i,o=n.suffix,v=n.readOnly,c=n.dateTimeFormat,u=c===void 0?"YYYY-MM-DD":c,f=n.style,m=n.bordered,g=n.className,y=(0,l.useRef)(),C=(0,l.useRef)(0);return(0,l.useEffect)(function(){var A=G()(G()(a||void 0).format(u),u),x=q(1900,2100),E=q(1,12),M=q(1,he(A.year(),A.month())),S=q(0,23),I=q(0,59),k=q(0,59),L=[],K=[],z=0;u.includes("YYYY")&&(L.push({data:x}),K.push(x.indexOf("".concat(A.year()))),z++),u.includes("MM")&&(L.push({data:E}),K.push(E.indexOf(String(A.month()+1).padStart(2,"0"))),z++),u.includes("DD")&&(L.push({data:M}),K.push(M.indexOf(String(A.date()).padStart(2,"0"))),z++),C.current=z,u.includes("HH")&&(L.push({data:S}),K.push(S.indexOf(String(A.hour()).padStart(2,"0"))),z++),u.includes("mm")&&(L.push({data:I}),K.push(I.indexOf(String(A.minute()).padStart(2,"0"))),z++),u.includes("ss")&&(L.push({data:k}),K.push(k.indexOf(String(A.second()).padStart(2,"0"))),z++),y.current=new ze({title:"\u65E5\u671F\u9009\u62E9",position:K,wheels:L,onShow:function(){document.getElementsByTagName("body")[0].style.overflow="hidden"},onHide:function(){document.getElementsByTagName("body")[0].style.overflow=null},transitionEnd:function(ee,Y,U){U===1&&y.current.updateWheel(2,q(1,he(Y[0],Y[1])))},callback:function(ee,Y){var U=[];C.current>0&&U.push(Y.slice(0,C.current).join("-")),Y.length>C.current&&U.push(Y.slice(C.current).join(":")),e(U.join(" "))}})},[]),(0,t.jsx)(F.Z,{prefix:(0,t.jsx)(oe,{}),readOnly:!0,value:a,style:f,suffix:o,bordered:m,className:g,onClick:function(){v||y.current.show()}})};function De(){var r=new Date;return["".concat(r.getHours()).padStart(2,"0"),"".concat(r.getMinutes()).padStart(2,"0"),"".concat(r.getSeconds()).padStart(2,"0")]}var ge=function(n){var e=n.onChange,i=n.value,a=i===void 0?"":i,o=n.readOnly,v=useRef(),c=useRef();return useEffect(function(){var u=De(),f=_slicedToArray(u,3),m=f[0],g=f[1],y=f[2],C=a.split(":"),A=_slicedToArray(C,3),x=A[0],E=A[1],M=A[2],S=generateSerialNums(0,23),I=generateSerialNums(0,59),k=generateSerialNums(0,59);v.current=new MobileSelect({title:"\u65F6\u95F4\u9009\u62E9",position:[S.indexOf(x||m),I.indexOf(E||g),k.indexOf(M||y)],wheels:[{data:S},{data:I},{data:k}],onShow:function(){document.getElementsByTagName("body")[0].style.overflow="hidden"},onHide:function(){document.getElementsByTagName("body")[0].style.overflow=null},callback:function(K,z){e(z.join(":"))}})},[]),_jsx("div",{ref:c,children:_jsx(_Input,{prefix:_jsx(TimeIcon,{}),readOnly:!0,value:a,onClick:function(){o||v.current.show()}})})},Ie=s(87857),Ne=s(17672),Ge=s(94184),Pe=s.n(Ge),_e=s(73935),Ke=function(n){var e=n.visible,i=n.title,a=n.children,o=n.okContent,v=n.cancelContent,c=n.height,u=n.onCancel;return _e.createPortal((0,t.jsxs)("div",{className:Pe()("mobileDrawer",{"mobileDrawer-show":e}),children:[(0,t.jsx)("div",{className:"grayLayer",onClick:u}),(0,t.jsxs)("div",{className:"content",children:[(0,t.jsx)("div",{className:"btnBar",children:(0,t.jsxs)("div",{className:"fixWidth",children:[(0,t.jsx)("div",{className:"cancel",children:v}),i&&(0,t.jsx)("div",{className:"title",children:i}),(0,t.jsx)("div",{className:"ensure",style:{width:80,display:"flex",justifyContent:"space-between"},children:o})]})}),(0,t.jsx)("div",{className:"panel",children:(0,t.jsx)("div",{className:"fixWidth",children:(0,t.jsx)("div",{className:"wheels",style:{height:c},children:a})})})]})]}),document.body)},rt=function(n){var e=n.onChange,i=(0,l.useRef)(null),a=(0,l.useRef)(),o=(0,l.useRef)(),v=(0,l.useState)(!1),c=(0,D.Z)(v,2),u=c[0],f=c[1];return(0,l.useEffect)(function(){var m=i.current;if(m){var g,y=new Ne.Z(i.current,{});a.current=y;var C=Math.max(window.devicePixelRatio||1,1);m.width=m.offsetWidth*C,m.height=m.offsetHeight*C,(g=m.getContext("2d"))===null||g===void 0||g.scale(C,C)}},[]),(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsx)("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#aaa",visibility:o.current?"hidden":"visible"},onClick:function(){return f(!0)},children:"\u70B9\u51FB\u7B7E\u540D"}),(0,t.jsx)("img",{src:o.current||void 0,style:{display:"block",width:"100%",height:100,border:o.current?"1px solid #E3E3E3":0},onClick:function(){return f(!0)}}),(0,t.jsx)(Ke,{visible:u,title:"\u7535\u5B50\u7B7E\u540D",okContent:(0,t.jsx)("div",{style:{userSelect:"none"},onClick:function(){var g,y;if((g=a.current)!==null&&g!==void 0&&g.isEmpty()){Ie.FN.show({content:"\u7B7E\u540D\u4E0D\u80FD\u4E3A\u7A7A",position:"top",maskStyle:{zIndex:1e4}});return}o.current=(y=a.current)===null||y===void 0?void 0:y.toDataURL(),f(!1),e(a.current.toDataURL())},children:"\u786E\u8BA4\u7B7E\u540D"}),cancelContent:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:80},children:[(0,t.jsx)("div",{onClick:function(){return f(!1)},children:"\u53D6\u6D88"}),(0,t.jsx)("div",{style:{color:"#1e83d3"},onClick:function(){var g;return(g=a.current)===null||g===void 0?void 0:g.clear()},children:"\u91CD\u7F6E"})]}),children:(0,t.jsx)("canvas",{ref:i,style:{width:"100%",height:400,touchAction:"none",userSelect:"none"}})})]})};function He(r){return r?r.substring(0,r.lastIndexOf("[")):"\u70B9\u51FB\u9009\u62E9"}var Ue=function(n){var e=n.onChange,i=n.value,a=n.mapMove,o=a===void 0?!1:a,v=n.optionId,c=(0,l.useRef)(null),u=(0,l.useRef)(),f=(0,l.useRef)(),m=(0,l.useRef)(),g=(0,l.useRef)(),y=(0,l.useState)(function(){if(!!i){var ee=i.match(/\[(\d+\.\d+),\s*(\d+\.\d+)\]/);if(ee&&ee.length>2)return[parseFloat(ee[1]),parseFloat(ee[2])]}}),C=(0,D.Z)(y,2),A=C[0],x=C[1],E=(0,l.useState)(function(){return He(i)}),M=(0,D.Z)(E,2),S=M[0],I=M[1],k=(0,l.useState)(!1),L=(0,D.Z)(k,2),K=L[0],z=L[1],te=(0,l.useCallback)(function(ee){f.current.getLocation(ee,function(Y,U){if(Y==="complete"&&U.geocodes.length){var ve=U.geocodes[0].location;m.current.start(ve)}else console.error("\u6839\u636E\u5730\u5740\u67E5\u8BE2\u4F4D\u7F6E\u5931\u8D25")})},[]);return(0,l.useEffect)(function(){window["localMap".concat(v)]=function(){initAMapUI(),AMapUI.loadUI(["misc/PositionPicker"],function(ye){var pe=new AMap.Map("map-".concat(v),{zoom:16,center:A,dragEnable:o,zoomEnable:o});if(u.current=pe,o){var Fe=new ye({mode:"dragMarker",map:pe});Fe.on("success",function(ut){I(ut.address),x([ut.position.lng,ut.position.lat])}),A?Fe.start(A):Fe.start(),pe.panBy(0,1),m.current=Fe}var Le=new AMap.Geocoder({city:"010"});f.current=Le;var at=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,offset:[10,20],zoomToAccuracy:!0,position:"RB"});g.current=at,at.getCurrentPosition(function(ut,it){ut=="complete"?o?positionPicker.start(it.position):(pe.setCenter(it.position),I(it.formattedAddress),x([it.position.lng,it.position.lat])):console.error(it)})})},window._AMapSecurityConfig={securityJsCode:"c92dc7c089f25dcd7944094d3ee1a959"};var ee="https://webapi.amap.com/maps?v=1.4.15&key=fce3217057b3ace0b2128cb5d1696c87&callback=localMap".concat(v,"&plugin=AMap.Geocoder,AMap.Geolocation"),Y=document.createElement("script");Y.src=ee,document.head.appendChild(Y);var U="https://webapi.amap.com/ui/1.1/main-async.js",ve=document.createElement("script");ve.src=U,document.head.appendChild(ve)},[]),(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsx)(F.Z.TextArea,{readOnly:!0,value:He(i),onClick:function(){return z(!0)}}),(0,t.jsxs)(Ke,{visible:K,height:450,onCancel:function(){z(!1)},okContent:(0,t.jsx)("div",{style:{userSelect:"none"},onClick:function(){A&&e("".concat(S,"[").concat(A[0],", ").concat(A[1],"]")),z(!1)},children:"\u786E\u8BA4\u9009\u62E9"}),cancelContent:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:200},children:[!o&&(0,t.jsx)(T.Z,{type:"link",children:"\u83B7\u53D6\u4F4D\u7F6E"}),o&&(0,t.jsx)(F.Z.Search,{placeholder:"\u8BF7\u8F93\u5165\u8981\u641C\u7D22\u7684\u5730\u70B9\u3001\u8857\u9053",size:"small",onSearch:function(Y){return te(Y)}})]}),children:[(0,t.jsx)("div",{ref:c,id:"map-".concat(v),style:{height:390}}),(0,t.jsx)("div",{style:{height:50,borderTop:"1px solid #b0b0b0",background:"#fff",padding:"12px 18px"},children:S})]})]})},We=function(n){var e,i=n.optionId,a=n.questionId,o=n.checked,v=n.checkedCount,c=n.quota,u=n.statEnabled,f=(0,d.Al)(),m=f.statistics,g=m==null?void 0:m.questionStatistics[a],y=((g==null?void 0:g.optionStatistics.reduce(function(E,M){return E+M.count},0))||0)+v,C=(g==null||(e=g.optionStatistics.find(function(E){return E.optionId===i}))===null||e===void 0?void 0:e.count)||0,A=o?C+1:C,x="".concat(Math.floor(A/y*1e3)/10,"%");return!u&&c===void 0?(0,t.jsx)(t.Fragment,{}):(0,t.jsxs)("span",{className:"vote-info",children:[c&&(0,t.jsxs)("span",{className:"vote-info-quota",style:{color:c-C>0?"#1890ff":"#949aae"},children:["(\u4F59",c-C,")"]}),u&&v>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"vote-info-cnt",children:[A,"\u7968"]}),(0,t.jsx)("span",{className:"vote-info-percent ",children:x}),(0,t.jsx)("div",{className:"vote-info-bar",children:(0,t.jsx)("div",{className:"vote-info-bar-fill",style:{width:x}})})]})]})},Xe=s(22385),Re=s(94199),Ye=s(93224),qe=s(49914),ke=s(78338);function st(r){if(r=Number(r),r<=0)return"0:0:0";var n=Math.floor(r/3600),e=Math.floor(r%3600/60),i=Math.floor(r%3600%60),a="".concat(n).padStart(2,"0"),o="".concat(e).padStart(2,"0"),v="".concat(i).padStart(2,"0");return"".concat(a,":").concat(o,":").concat(v)}function ot(r){return r<=60?"#ff4d4f":r<=180?"#faad14":"#52c41a"}var Ze=(0,B.Pi)(function(){var r,n,e=(0,qe.H)(),i=(0,d.Rk)(),a=e.startTime,o=((r=e.project)===null||r===void 0||(n=r.setting.examSetting)===null||n===void 0?void 0:n.maxSubmitMinutes)||0,v=(0,l.useState)(0),c=(0,D.Z)(v,2),u=c[0],f=c[1],m=a+o*60*1e3,g=(0,l.useRef)();return(0,l.useEffect)(function(){if(o!==0)return g.current=window.setInterval(function(){f((m-new Date().getTime())/1e3)},1e3),function(){clearInterval(g.current)}},[m]),(0,l.useEffect)(function(){u<0&&(i.submit(),clearInterval(g.current))},[u]),o===0?(0,t.jsx)(t.Fragment,{}):(0,t.jsxs)("div",{style:{position:"absolute",right:10,fontSize:13},children:[(0,t.jsx)(ke.Z,{style:{marginRight:5,color:"#1890ff"}}),"\u5269\u4F59:",(0,t.jsx)("span",{style:{marginLeft:3,color:ot(u)},children:st(u)})]})}),lt=["size","marked"],et=(0,B.Pi)(function(r){var n=r.size,e=r.marked,i=e===void 0?!0:e,a=(0,Ye.Z)(r,lt),o=(0,d.Rk)(),v=o.props.answerSheetVisible;return v?(0,t.jsx)("svg",(0,Q.Z)((0,Q.Z)({viewBox:"0 0 1024 1024",version:"1.1",width:r.size||24,height:r.size||24,className:"marked"},a),{},{children:(0,t.jsx)("path",{d:"M662.04973405 329.56834123l108.40905238-142.19888693c4.22372932-5.63163908 4.22372932-11.26327817 1.40790978-18.30282702-2.81581955-5.63163908-8.44745863-9.8553684-15.48700748-9.85536841H218.55815604c-9.8553684 0-16.89491725 7.03954885-16.89491725 16.89491726V867.38987389c0 9.8553684 7.03954885 16.89491725 16.89491725 16.89491726s16.89491725-7.03954885 16.89491726-16.89491726V487.25423562h522.33452519c7.03954885 0 12.67118794-4.22372932 15.48700749-9.8553684s1.40790977-12.67118794-2.81581955-18.30282703l-108.40905238-129.52769896z",fill:i?"#EA4942":"#d8d8d8","p-id":"1287"})})):(0,t.jsx)(t.Fragment,{})}),bt=(0,B.Pi)(function(r){var n,e,i,a=r.id,o=r.name,v=(0,d.Rk)(),c=v.answerSheet,u=c.find(function(C){return C.id===a}),f=(0,qe.H)(),m=f==null||(n=f.project)===null||n===void 0?void 0:n.isAuthenticated,g=(e=f.project)===null||e===void 0||(i=e.setting.examSetting)===null||i===void 0?void 0:i.randomSurveyWrong,y=v.exerciseMode;return(!y||!m||a.length<=10)&&!g?(0,t.jsx)(t.Fragment,{}):u!=null&&u.favorite?(0,t.jsx)(Re.Z,{title:g?"\u79FB\u51FA\u9519\u9898":"\u79FB\u51FA\u6536\u85CF",children:(0,t.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:"24",height:"24",style:{float:"right"},onClick:function(){v.favoriteQuestion({templateId:a,name:o},!1)},children:(0,t.jsx)("path",{d:"M484.266667 272.021333l6.634666 6.72c5.973333 5.973333 13.013333 12.842667 21.098667 20.629334l9.194667-8.917334c7.253333-7.04 13.44-13.184 18.56-18.432a193.28 193.28 0 0 1 277.44 0c75.904 77.525333 76.629333 202.794667 2.133333 281.194667L512 853.333333 204.672 553.237333c-74.474667-78.421333-73.770667-203.690667 2.133333-281.216a193.28 193.28 0 0 1 277.44 0z","p-id":"2829",fill:"#d81e06"})})}):(0,t.jsx)(Re.Z,{title:g?"\u6DFB\u52A0\u5230\u9519\u9898":"\u6536\u85CF",children:(0,t.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",width:24,height:24,style:{float:"right"},onClick:function(){v.favoriteQuestion({templateId:a,name:o})},children:(0,t.jsx)("path",{d:"M484.267 272.021l6.634 6.72c5.974 5.974 13.014 12.843 21.099 20.63l9.195-8.918c7.253-7.04 13.44-13.184 18.56-18.432a193.28 193.28 0 0 1 277.44 0c75.904 77.526 76.629 202.795 2.133 281.195L512 853.333 204.672 553.237c-74.475-78.421-73.77-203.69 2.133-281.216a193.28 193.28 0 0 1 277.44 0z m293.162 232.15c46.272-53.76 44.182-136.15-5.973-187.371a129.28 129.28 0 0 0-185.984 0l-15.125 15.104a1687.253 1687.253 0 0 1-4.395 4.31L512 388.18l-49.28-47.445-13.227-12.928-10.965-11.008a129.28 129.28 0 0 0-186.005 0c-51.456 52.565-52.31 137.963-2.198 191.573L512 763.883l261.675-255.531 3.754-4.181z","p-id":"2674",fill:"#d8d8d8"})})})}),At=(0,B.Pi)(function(r){var n=(0,d.Rk)(),e=r.finished,i=r.marked,a=r.seqNo,o=r.id;return(0,t.jsxs)("div",{className:Pe()("answer-sheet-item",{marked:i,finished:e}),onClick:function(){return n.changePageIndex(o)},children:[a,i&&(0,t.jsx)(et,{style:{position:"absolute",left:32,bottom:32},size:24})]})}),ct=(0,B.Pi)(function(){var r=(0,d.Rk)(),n=r.answerSheet;return(0,t.jsx)(t.Fragment,{children:n.filter(function(e){return e.display!=="none"}).map(function(e,i){return(0,l.createElement)(At,(0,Q.Z)((0,Q.Z)({},e),{},{seqNo:i+1,key:e.id}))})})}),yt=(0,B.Pi)(function(){var r=(0,d.Rk)(),n=r.answerSheet,e=n.filter(function(o){return o.finished}).length,i=n.filter(function(o){return!o.finished}).length,a=n.filter(function(o){return o.marked}).length;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"finished",children:["\u5DF2\u7B54",(0,t.jsx)("span",{style:{marginLeft:4},children:e})]}),(0,t.jsxs)("div",{className:"unFinished",children:["\u672A\u7B54",(0,t.jsx)("span",{style:{marginLeft:4},children:i})]}),(0,t.jsxs)("div",{className:"marked",children:[(0,t.jsx)(et,{size:18}),"\u6807\u8BB0",(0,t.jsx)("span",{style:{marginLeft:4},children:a})]})]})}),vt=(0,B.Pi)(function(){var r=(0,d.Rk)(),n=r.props.answerSheetVisible,e=r.answerSheetVisible;return n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginRight:12},onClick:function(){r.answerSheetVisible=!0},children:[(0,t.jsx)("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:(0,t.jsx)("path",{d:"M800 96c70.4 0 128 57.6 128 128v576c0 70.4-57.6 128-128 128H224c-70.4 0-128-57.6-128-128V224c0-70.4 57.6-128 128-128h576z m0 64H224c-35.2 0-60.8 25.6-64 60.8V800c0 35.2 25.6 60.8 60.8 64H800c35.2 0 60.8-25.6 64-60.8V224c0-35.2-25.6-60.8-60.8-64H800zM416 640c35.2 0 64 28.8 64 64s-28.8 64-64 64H288c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z m320 0c35.2 0 64 28.8 64 64s-28.8 64-64 64h-128c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z m-320-192c35.2 0 64 28.8 64 64s-28.8 64-64 64H288c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z m320 0c35.2 0 64 28.8 64 64s-28.8 64-64 64h-128c-35.2 0-64-28.8-64-64s28.8-64 64-64h128zM416 256c35.2 0 64 28.8 64 64s-28.8 64-64 64H288c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z m320 0c35.2 0 64 28.8 64 64s-28.8 64-64 64h-128c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z",fill:"#8c8c8c"})}),"\u7B54\u9898\u5361"]}),(0,t.jsx)(Ie.GI,{visible:e,onMaskClick:function(){r.answerSheetVisible=!1},className:"adm-answer-sheet",bodyStyle:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px",overflowY:"auto"},children:(0,t.jsxs)("div",{className:"answer-sheet",children:[(0,t.jsxs)("div",{className:"answer-sheet-header",children:["\u7B54\u9898\u5361",(0,t.jsx)(Ze,{})]}),(0,t.jsx)("div",{className:"answer-sheet-content",children:(0,t.jsx)(ct,{})}),(0,t.jsx)("div",{className:"answer-sheet-footer",children:(0,t.jsx)(yt,{})})]})})]}):(0,t.jsx)(t.Fragment,{})}),Je=(0,B.Pi)(function(r){var n=(0,d.Rk)(),e=n.reviewAnswer[r.qId];return e&&!e.visible?(0,t.jsx)(T.Z,{block:!0,ghost:!0,className:"review-answer-btn",style:{marginTop:10},onClick:function(){e.visible=!0},children:"\u67E5\u770B\u7B54\u6848"}):(0,t.jsx)(t.Fragment,{})}),Te=s(88983),Ee=s(66253),dt=s(43061),ht=s(38819),Qe=s(12968),ft=s(62462),tt=s(91220),$e=s(15020);function Ve(r,n,e){if(!r)return"";var i=RegExp("_{3,}","g"),a=r.matchAll(i),o=[],v=(0,tt.Z)(a),c;try{for(v.s();!(c=v.n()).done;){var u=c.value,f=u.index,m=u.index+u[0].length;o.push([f,m])}}catch(x){v.e(x)}finally{v.f()}if(o.length===0)return r;for(var g=o[0][0]===0?"":r.substring(0,o[0][0]),y=function(E){var M,S,I=o[E],k=o[E+1];if(!I)return"break";var L=r.substring(I[0],I[1]),K=r.substring(I[1],k?k[0]:r.length),z=e?e[n[E].id]:"",te=n[E];if(((M=te.attribute)===null||M===void 0?void 0:M.dataType)==="select"){var ee,Y;z=(ee=te.dataSource)===null||ee===void 0||(Y=ee.find(function(ye){return ye.value===z}))===null||Y===void 0?void 0:Y.label}else if(((S=te.attribute)===null||S===void 0?void 0:S.dataType)==="selectDict"){var U,ve;z=(U=z)===null||U===void 0||(ve=U.split("|"))===null||ve===void 0?void 0:ve[1]}g+='<input data-id="'.concat(n[E].id,`" value='`).concat(z,`' class="horz-blank" style="width:`).concat(12*L.length,'px">'),g+=K},C=0;C<o.length;C++){var A=y(C);if(A==="break")break}return g}var nt=(0,B.Pi)(function(r){var n=r.content,e=r.children,i=r.value,a=i===void 0?{}:i,o=r.onChange,v=r.onBlur,c=r.schema,u=(0,d.Rk)(),f=u.reviewAnswer[c.id];function m(g,y){var C,A;if(a[g]!==y){a[g]=y;var x=e.find(function(I){return I.id===g}),E=x==null||(C=x.attribute)===null||C===void 0?void 0:C.cascaderLevel,M=x==null||(A=x.attribute)===null||A===void 0?void 0:A.dictCode;M&&E&&e.filter(function(I){var k;return((k=I.attribute)===null||k===void 0?void 0:k.dictCode)===M&&I.attribute.cascaderLevel&&I.attribute.cascaderLevel>E}).forEach(function(I){delete a[I.id]}),(y===""||y===void 0)&&delete a[g];var S=(0,Q.Z)({},a);if(Object.keys(S).length!==0)return S}}return(0,t.jsx)("div",{className:"pe-view",onClick:function(y){y.preventDefault(),y.stopPropagation()},children:(0,$e.ZP)(Ve(n,e),{replace:function(y){if((y==null?void 0:y.name)==="img"){var C=y.attribs.width;return(0,t.jsx)(ft.Z,{width:C?parseFloat(C):void 0,src:y.attribs.src,style:{cursor:"zoom-in"},fallback:"data:image/png;base64,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",preview:{mask:!1}})}var A=y.attribs;if(!!A){var x=A["data-id"];if(x){var E,M,S,I,k,L=(0,$e.e_)(A),K=e.findIndex(function(Le){return Le.id===x}),z=e[K],te=(E=e[K-1])===null||E===void 0?void 0:E.id,ee=a[te],Y=(z==null||(M=z.attribute)===null||M===void 0?void 0:M.dataType)||"text",U=z==null||(S=z.attribute)===null||S===void 0?void 0:S.dictCode,ve=z==null||(I=z.attribute)===null||I===void 0?void 0:I.dateTimeFormat,ye=(k=z.attribute)===null||k===void 0?void 0:k.cascaderLevel,pe=f==null?void 0:f[x].isCorrect,Fe=Pe()(L.className,{selected:f&&f.visible,"is-correct":f&&f.visible&&pe});return(0,t.jsx)(je,(0,Q.Z)((0,Q.Z)({type:Y,value:a[x],parentValue:ee,cascaderLevel:ye,onChange:function(at){return o(m(x,at))},onBlur:function(at){return v(m(x,at))},dictCode:U,dateTimeFormat:ve,schema:z,bordered:!1,icon:!1},L),{},{className:Fe}))}}}})})}),Ct=(0,B.Pi)(function(r){var n=r.qId,e=r.schema,i=r.value,a=r.onChange,o=r.onBlur,v=r.disabled,c=e.id,u=e.title,f=e.attribute,m=f===void 0?{}:f,g=(0,d.Rk)(),y=g.reviewAnswer[n],C=y==null?void 0:y[c].selected,A=y==null?void 0:y[c].isCorrect,x=m.dataType;return y&&y.visible&&(C||A)?(0,t.jsxs)("label",{className:Pe()("ant-radio-wrapper ant-radio-wrapper-in-form-item option-item",{selected:C,"is-correct":A}),onClick:function(){v||r.onChange()},children:[(0,t.jsxs)("span",{children:[!A&&(0,t.jsx)(dt.Z,{style:{color:"#ff6d56",marginRight:10}}),A&&(0,t.jsx)(ht.Z,{style:{color:"#00bf6f",marginRight:10}})]}),(0,t.jsx)("div",{className:"option-label-wrap",children:(0,t.jsx)(j.Z,{html:u})})]}):(0,t.jsx)(Ee.ZP,{value:c,className:"option-item",onClick:function(){v||r.onChange(i)},disabled:v,children:x==="horzBlank"&&e.children?(0,t.jsx)(nt,{schema:e,content:u,children:e.children,value:typeof i=="boolean"?{}:i,onBlur:o,onChange:a}):(0,t.jsx)(j.Z,{html:u})})}),Oe=s(63185),Mt=s(9676),Ot=s(36862),Rt=s(46533),Qt=(0,B.Pi)(function(r){var n=r.qId,e=r.schema,i=r.checked,a=r.onChange,o=r.value,v=r.onBlur,c=r.disabled,u=e.id,f=e.title,m=e.attribute,g=m===void 0?{}:m,y=(0,d.Rk)(),C=y.reviewAnswer[n],A=C==null?void 0:C[u].selected,x=C==null?void 0:C[u].isCorrect,E=g.dataType;return C&&C.visible&&(A||x)?(0,t.jsxs)("label",{className:Pe()("ant-checkbox-wrapper ant-checkbox-wrapper-in-form-item option-item",{selected:A,"is-correct":x}),onClick:function(){return a(!i)},children:[(0,t.jsxs)("span",{children:[!x&&(0,t.jsx)(Ot.Z,{size:17,style:{color:"#ff6d56",marginRight:10,fontSize:17}}),x&&(0,t.jsx)(Rt.Z,{size:17,style:{color:"#00bf6f",marginRight:10,fontSize:17}})]}),(0,t.jsx)("div",{className:"option-label-wrap",children:(0,t.jsx)(j.Z,{html:f})})]}):(0,t.jsx)(Mt.Z,{value:u,checked:i,onChange:function(S){return a(S.target.checked)},className:"option-item",disabled:c,children:E==="horzBlank"&&e.children?(0,t.jsx)(nt,{schema:e,content:f,children:e.children,value:o,onBlur:v,onChange:function(S){return a(!0,S)}}):(0,t.jsx)(j.Z,{html:f})})}),Et=(0,B.Pi)(function(r){var n,e=r.schema,i=r.value,a=r.onChange,o=r.qId,v=r.onBlur,c=(0,d.AK)("-body-question"),u=e.id,f=e.attribute,m=e.title,g=f==null?void 0:f.suffix,y=f==null?void 0:f.dataType,C=f==null?void 0:f.readOnly,A=(0,d.Rk)(),x=A.reviewAnswer[o],E=x==null?void 0:x[u].isCorrect;return x&&x.visible?(0,t.jsxs)("span",{style:{position:"relative",width:"100%"},children:[!E&&(0,t.jsx)(dt.Z,{style:{color:"#ff6d56",marginRight:10,position:"absolute",left:4,top:3,zIndex:1}}),E&&(0,t.jsx)(ht.Z,{style:{color:"#00bf6f",marginRight:10,position:"absolute",left:4,top:3,zIndex:1}}),(0,t.jsx)(je,{type:y,value:i[u],className:Pe()("selected",{"is-correct":E}),onChange:function(S){return a(S)},onBlur:v,style:{paddingLeft:20},schema:e,suffix:g&&(0,t.jsx)("span",{className:c+"-option-suffix",children:(0,t.jsx)(j.Z,{html:g})})})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(je,{type:y,value:i[u],dictCode:(n=e.attribute)===null||n===void 0?void 0:n.dictCode,onChange:function(S){return a(S)},onBlur:v,readOnly:C,schema:e,suffix:g&&(0,t.jsx)("span",{className:c+"-option-suffix",children:(0,t.jsx)(j.Z,{html:g})})})})}),Ft=(0,B.Pi)(function(r){var n,e,i=r.qId,a=r.schema,o=(0,d.Rk)(),v=o.reviewAnswer[i],c=(n=a.children)===null||n===void 0?void 0:n.map(function(g){var y;return(y=g.attribute)===null||y===void 0?void 0:y.examCorrectAnswer}).filter(function(g){return g}).join(";"),u=c&&["FillBlank","MultipleBlank","Textarea"].includes(a.type),f=function(){return u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"answer-analysis-title",children:"\u6B63\u786E\u7B54\u6848\uFF1A"}),(0,t.jsx)("div",{className:"answer-analysis-content",style:{marginBottom:10},children:c})]}):(0,t.jsx)(t.Fragment,{})},m=function(){var y;if((y=a.attribute)!==null&&y!==void 0&&y.examAnalysis){var C;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"answer-analysis-title",children:"\u7B54\u6848\u89E3\u6790\uFF1A"}),(0,t.jsx)("div",{className:"answer-analysis-content",children:(0,t.jsx)(j.Z,{html:(C=a.attribute)===null||C===void 0?void 0:C.examAnalysis})})]})}return(0,t.jsx)(t.Fragment,{})};return v&&v.visible&&((e=a.attribute)!==null&&e!==void 0&&e.examAnalysis||u)?(0,t.jsxs)("div",{className:"answer-analysis",children:[f(),m()]}):(0,t.jsx)(t.Fragment,{})}),Tt=(0,t.jsx)("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:(0,t.jsx)("path",{d:"M839 73.9c-1.2-2.4-3.7-9.8-7.4-9.8s-11.1 8.6-13.5 12.3l-13.5 12.3c-7.4-6.1-35.6-23.4-43-23.4-11.1 0-104.6 113.2-118.1 129.1l-60.2 68.8-30.7 38.1-43.1-83.6-50.4-100.8c-4.9-9.8-8.6-22.1-22.1-22.1-7.3 0-9.8 3.6-13.5 9.8-3.7 4.9-3.7 4.9-11.1 8.6-8.6 0-12.3 0-19.7 6.2-6.2-4.9-11.1-11.1-19.7-11.1-3.7 0-6.2 1.2-8.6 3.6l-8.6 7.4c-4.8 6.1-15.9 17.2-15.9 25.8 0 11 9.8 31.9 13.5 41.8l90.9 250.8-14.7 17.3c-66.4 79.8-159.8 190.5-210.2 279l-29.5 50.4c-8.6 14.7-29.5 44.3-29.5 60.2 0 3.7 3.8 6.2 6.2 8.6 8.6 7.3 3.6 14.7 1.2 24.5-2.5 7.4-3.7 12.3-3.7 19.7 0 13.5 11.1 27 18.5 38.1 7.3 12.2 9.9 24.5 25.8 24.5 17.2 0 49.2-3.6 63.9-14.7l243.4-377.5 115.6 178.5c6.1 9.8 30.7 54.1 46.7 54.1 14.8 0 38.1-16.1 40.6-30.8-2.6-4.9-6.2-12.3-6.2-17.2 0-7.5 19.7-14.9 24.6-19.7v-9.9c8.6-3.7 13.5-8.6 17.2-17.2l-95.9-205.3-38.2-76.3 13.6-19.7 174.6-225.9c11-14.8 28.3-38.1 41.8-50.4 4.9-5 13.5-12.3 13.5-19.7 0-8.6-19.7-22.1-24.6-34.4z","p-id":"14396",fill:"#fe6c56"})}),Lt=(0,t.jsx)("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:(0,t.jsx)("path",{d:"M389.7 604.3L198.2 447.4c-3.7-3-9.1-3-12.8 0.1l-73.3 61.4c-4.4 3.7-4.8 10.3-0.9 14.5l324.1 344.3c5 5.3 13.8 3.6 16.6-3.1 64.4-160.1 244.3-452.8 463.2-664.7 3-2.9 3.9-7.2 2.3-11l-13.7-33c-2.4-5.8-9.5-8-14.7-4.5-243.2 157.7-419.4 353.5-499.3 452.9z",fill:"#fe6c56","p-id":"4913"})}),zt=(0,B.Pi)(function(r){var n,e=r.schema,i=r.seqNo,a=i===void 0?0:i,o=(0,d.Rk)(),v=o.props.correctAnswerVisible,c=o.props.questionScore,u=(n=e.attribute)===null||n===void 0?void 0:n.examAnswerMode;return!v||!c||u==="none"?(0,t.jsx)(t.Fragment,{}):(0,t.jsxs)("div",{className:"exam-score-info",children:[a>0&&(0,t.jsxs)("span",{children:["\u7B2C",a,"\u9898"]}),c[e.id]?(0,t.jsxs)("div",{style:{display:"flex"},children:[(0,t.jsxs)("span",{className:"score",children:["\u5F97\u5206:",c[e.id],"\u5206"]}),Lt]}):Tt]})}),Kt=(0,B.Pi)(function(r){var n,e=r.schema,i=r.title,a=r.onBlur,o=r.onChange,v=e.type,c=((n=e.children)===null||n===void 0?void 0:n.filter(function(m){var g;return(g=m.attribute)===null||g===void 0?void 0:g.fieldInTitle}))||[],u=(0,B.U$)(),f=u.value;return v!=="HorzBlank"||c.length===0?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(j.Z,{html:i})}):(0,t.jsx)(nt,{schema:e,children:c,content:i,onChange:o,onBlur:a,value:f})});function Ht(r){var n,e=r.schema,i=r.required,a=r.error,o=r.replaceTitle,v=r.index,c=r.onBlur,u=r.onChange,f=r.onFocus,m=r.seqNo,g=(0,l.useContext)(Z.ZX),y=g.questionNumber,C=(0,d.AK)("-body-question"),A=(0,l.useState)(),x=(0,D.Z)(A,2),E=x[0],M=x[1],S=(0,d.Rk)(),I=(n=S.answerSheet.find(function(K){return K.id===e.id}))===null||n===void 0?void 0:n.marked,k=e.description;(0,l.useEffect)(function(){if(E){var K,z;(K=document.querySelector("[data-id='".concat(e.id,"']")))===null||K===void 0||K.classList.remove("ant-form-item-has-error"),(z=document.querySelector("[data-id='".concat(e.id,"']")))===null||z===void 0||z.querySelectorAll("[data-id]").forEach(function(pe){pe.classList.remove("ant-form-item-has-error")})}if(a.length>0){var te,ee=a[0].split("^"),Y=(0,D.Z)(ee,2),U=Y[0],ve=Y[1],ye;ve?(ye=document.querySelector("[data-id='".concat(U,"']")),M(ve)):(ye=document.querySelector("[data-id='".concat(e.id,"']")),M(U)),(te=ye)===null||te===void 0||te.classList.add("ant-form-item-has-error")}else E&&M(void 0)},[a]);var L=function(){return E?(0,t.jsx)("span",{className:"question-tag error animated",children:(0,t.jsx)("span",{children:E})}):(0,t.jsx)(t.Fragment,{})};return(0,t.jsxs)("div",{className:C,children:[(0,t.jsx)(zt,{schema:e,seqNo:m}),(0,t.jsxs)(w.Z.Item,{label:(0,t.jsxs)("h2",{className:C+"-header",children:[i&&(0,t.jsx)("span",{className:"question-required",children:"*"}),(0,t.jsx)("span",{className:"question-seq",children:y&&m?m:""}),(0,t.jsx)(Kt,{schema:e,title:o||e.title,onBlur:c,onChange:u,onFocus:f}),L(),m&&(0,t.jsx)(et,{marked:I,onClick:function(){S.markQuestion(e.id,!I)}}),m&&(0,t.jsx)(p.rF,{id:e.id,name:e.title}),k&&(0,t.jsx)("div",{className:"question-desc",children:(0,t.jsx)(j.Z,{html:k})})]}),labelCol:{span:24},wrapperCol:{span:24},children:[r.children,(0,t.jsx)(Je,{qId:e.id}),(0,t.jsx)(Ft,{qId:e.id,schema:e})]})]})}(0,h.eC)("Question",(0,B.Pi)(Ht),"antdMobile");function Ut(r){var n=r.schema,e=r.index,i=r.seqNo,a=(0,d.AK)("-body-questionSet"),o=(0,l.useContext)(Z.ZX),v=o.questionNumber;return(0,t.jsxs)("div",{className:a,children:[(0,t.jsxs)("div",{className:a+"-title",children:[v&&(0,t.jsx)("span",{className:a+"-title-seq",children:(0,t.jsx)("b",{children:v&&i?i:""})}),(0,t.jsx)(j.Z,{html:n.title})]}),r.children,(0,t.jsx)("div",{className:a+"-splitLine"})]})}(0,h.eC)("QuestionSet",Ut,"antdMobile");var On=s(84305),Wt=s(88182),Jt=s(82925),Yt=s(3024),$t=(0,B.Pi)(function(){var r=(0,l.useContext)(Z.ZX),n=r.progressBar,e=(0,d.AK)(),i=(0,d.Rk)(),a=i.progress;return n?(0,t.jsx)(Yt.Z,{enabled:!0,top:0,innerActiveClass:"fixed",children:(0,t.jsx)("div",{className:e+"-progress",children:(0,t.jsx)("div",{className:"progress-bar s-prog-wait",children:(0,t.jsx)("div",{className:"progress-done  s-prog-done",style:{width:"".concat(a*100,"%")}})})})}):(0,t.jsx)(t.Fragment,{})});function Vt(r){var n=r.headerVisible,e=r.footerVisible,i=r.schema,a=(0,d.AK)(),o=(0,d.Al)(),v=function(){var u,f=(u=i.attribute)===null||u===void 0?void 0:u.headerImage;if(f)return(0,t.jsx)("img",{src:"/api/public/preview/".concat(f),style:{maxWidth:"100%"}})};return(0,t.jsxs)("div",{className:Pe()(a,{preview:o.isPreview}),children:[(0,t.jsx)($t,{}),(0,t.jsx)("div",{className:a+"-banner",children:v()}),n&&(0,t.jsx)(O,{}),(0,t.jsx)(Wt.ZP,{locale:Jt.Z,children:(0,t.jsx)(H,{children:r.children})}),e&&(0,t.jsx)(N,{}),(0,t.jsx)(vt,{})]})}(0,h.eC)("Survey",Vt,"antdMobile");var Rn=s(13062),we=s(71230),Qn=s(89032),Se=s(15746),fe=s(32059);function Gt(r){var n=r.schema,e=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children;function v(c,u){e((0,fe.Z)({},u,c))}return(0,t.jsx)("div",{children:o==null?void 0:o.map(function(c){var u=c.id,f=c.title,m=c.attribute,g=m===void 0?{}:m,y=g.mapMove;return(0,t.jsxs)(we.Z,{gutter:[10,0],"data-id":u,children:[f&&(0,t.jsx)(Se.Z,{span:24},c.id),(0,t.jsx)(Se.Z,{span:24,children:(0,t.jsx)(Ue,{optionId:u,onChange:function(A){return v(A,u)},value:a[u],mapMove:y})})]},u)})})}(0,h.RM)("Address",Gt,"antdMobile");var Fn=s(43185),mt=s(32620),Tn=s(34792),Bt=s(48086),gt=s(39428),Dt=s(3182),_t=s(81473);function Xt(r){var n=r.schema,e=r.onChange,i=r.value,a=i===void 0?{}:i,o=r.readOnly,v=n.children,c=v===void 0?[]:v,u=(0,d.Al)(),f=function(){var m=(0,Dt.Z)((0,gt.Z)().mark(function g(y){var C,A,x,E;return(0,gt.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:C=y.onSuccess,A=y.onError,x=y.file,E=y.onProgress,u.onUpload&&u.onUpload({file:x,fileType:6},function(I){E&&E({percent:I.loaded/I.total*100})}).then(function(I){if(I.success&&C&&(C(I.data),I.data.content&&e((0,fe.Z)({},c[0].id,I.data.content))),!I.success&&A){var k=new Error("Some error");A({event:k})}});case 2:case"end":return S.stop()}},g)}));return function(y){return m.apply(this,arguments)}}();return(0,t.jsx)("div",{children:c==null?void 0:c.map(function(m){var g=m.id,y=m.attribute,C=y===void 0?{}:y,A=C.cameraOnly;return(0,t.jsx)(F.Z,{placeholder:"\u70B9\u51FB\u8BC6\u522B\u6761\u7801",value:a[g],addonAfter:(0,t.jsx)(mt.Z,{capture:A?"environment":void 0,disabled:o,maxCount:1,accept:"image/*",beforeUpload:function(E){return C!=null&&C.maxFileSize&&E.size>C.maxFileSize*1024*1024?(Bt.default.error("\u6700\u5927\u53EA\u80FD\u4E0A\u4F20 ".concat(C.maxFileSize,"M \u5927\u5C0F\u7684\u6587\u4EF6")),mt.Z.LIST_IGNORE):!0},customRequest:f,showUploadList:!1,children:(0,t.jsx)(_t.Z,{})},g)})})})}(0,h.RM)("Barcode",Xt,"antdMobile");function pt(r,n){var e;return((e=r.children)===null||e===void 0?void 0:e.reduce(function(i,a,o){if(o===0)i.push(r.dataSource||[]);else{var v=r.children[o-1].id,c=n[v];if(c){var u;i.push(((u=i.slice(-1)[0].find(function(f){return f.value===c}))===null||u===void 0?void 0:u.children)||[])}}return i},[]))||[]}function qt(r){var n,e=r.schema,i=r.onChange,a=r.value,o=a===void 0?{}:a,v=(0,l.useState)(r.value||{}),c=(0,D.Z)(v,2),u=c[0],f=c[1],m=(0,l.useState)(pt(e,o)),g=(0,D.Z)(m,2),y=g[0],C=g[1];(0,l.useEffect)(function(){if(Object.keys(u).length>0){var x=pt(e,u);C(x)}},[u,e]);var A=function(E,M,S){var I,k={};(I=e.children)===null||I===void 0||I.forEach(function(L,K){S>K?k[L.id]=u[L.id]:S===K&&(k[E]=M)}),f(k),pt(e,k).filter(function(L){return L.length>0}).length===Object.values(k).filter(function(L){return L&&L!=="\u8BF7\u9009\u62E9"}).length?i(k):i(void 0)};return(0,t.jsx)(we.Z,{gutter:[10,10],children:(n=e.children)===null||n===void 0?void 0:n.map(function(x,E){return(0,t.jsx)(Se.Z,{span:24,children:(0,t.jsx)(Me,{options:y[E]||[],value:u[x.id]||"",onChange:function(S){return A(x.id,S,E)}},x.id)},x.id)})})}(0,h.RM)("Cascader",qt,"antdMobile");function en(r){var n=r.schema,e=r.onChange,i=r.value,a=i===void 0?{}:i,o=r.onBlur,v=n.children,c=n.attribute,u=24/((c==null?void 0:c.columns)||1),f=(0,d.AK)("-body-question"),m=!!(c!=null&&c.statEnabled),g=(0,d.Rk)(),y=(0,d.Al)(),C=g.hiddenOption[n.id]||[];(0,l.useEffect)(function(){var x=Object.keys(a),E=!1;x.forEach(function(M){C.includes(M)&&(E=!0,delete a[M])}),E&&e((0,Q.Z)({},a))},[C]);function A(x,E,M){E?a[x]=M||!0:delete a[x],e((0,Q.Z)({},a))}return(0,l.useEffect)(function(){v==null||v.forEach(function(x){var E;(E=x.attribute)!==null&&E!==void 0&&E.defaultChecked&&Object.keys(a).length===0&&e((0,fe.Z)({},x.id,!0))})},[]),(0,t.jsx)("div",{children:(0,t.jsx)(we.Z,{children:v==null?void 0:v.filter(function(x){return!C.includes(x.id)}).map(function(x){var E,M,S,I,k=x.id,L=(E=x.attribute)===null||E===void 0?void 0:E.dataType,K=(M=x.attribute)===null||M===void 0?void 0:M.suffix,z=(S=x.attribute)===null||S===void 0?void 0:S.readOnly,te=(I=x.attribute)===null||I===void 0?void 0:I.quota,ee=!1;if(te!==void 0){var Y,U=y.statistics,ve=U==null?void 0:U.questionStatistics[n.id],ye=(ve==null||(Y=ve.optionStatistics.find(function(Fe){return Fe.optionId===k}))===null||Y===void 0?void 0:Y.count)||0,pe=te-ye;pe<=0&&(ee=!0)}return(0,t.jsxs)(Se.Z,{span:u,className:f+"-option","data-id":k,children:[(0,t.jsx)(Qt,{qId:n.id,disabled:ee,schema:x,checked:a.hasOwnProperty(k),onChange:function(Le){ee||A(k,Le)},value:typeof a[k]=="boolean"?{}:a[k],onBlur:o}),(0,t.jsx)(We,{statEnabled:m,quota:te,checked:!!a[k],optionId:k,questionId:n.id,checkedCount:Object.keys(a).length}),L&&(0,t.jsx)(je,{value:typeof a[k]=="boolean"?"":a[k],style:{maxWidth:200},type:L,readOnly:z,onChange:function(Le){return A(k,!0,Le)},suffix:K&&(0,t.jsx)("span",{className:f+"-option-suffix",children:(0,t.jsx)(b.hl,{html:K})})})]},k)})})})}(0,h.RM)("Checkbox",(0,B.Pi)(en),"antdMobile");var Ln=s(62999),tn=s(54680),xt=s(3980),nn=s(60780),an=s.n(nn);function rn(r){var n=r.schema,e=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=o===void 0?[]:o,c=v[0].id,u=(0,l.useState)([]),f=(0,D.Z)(u,2),m=f[0],g=f[1];function y(A){c&&((A==null?void 0:A.length)===0?e(void 0):e((0,fe.Z)({},c,A==null?void 0:A.map(function(x){return x.value}))))}var C=(0,l.useMemo)(function(){return an()(m.map(function(A){return{title:A.name,key:A.id,value:A.id,parentId:A.parentId}}),{parentProperty:"parentId",customID:"key"})},[m]);return(0,l.useEffect)(function(){xt.hi.selectDept({}).then(function(A){A.success&&g(A.data)})},[]),(0,t.jsx)(we.Z,{children:(0,t.jsx)(Se.Z,{span:24,children:(0,t.jsx)(tn.Z,{style:{width:"100%"},treeCheckable:!0,value:(a[c]||[]).map(function(A){return{value:A}}),treeCheckStrictly:!0,showSearch:!1,showCheckedStrategy:"SHOW_ALL",dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:C,placeholder:"\u8BF7\u9009\u62E9",treeDefaultExpandAll:!0,onChange:y})})})}(0,h.RM)("Dept",rn,"antdMobile");function It(r){var n=r.schema,e=r.onChange,i=r.value,a=i===void 0?{}:i,o=r.onBlur,v=n.children,c=(0,d.AK)("-body-question");function u(m,g){a[m]=g,g===""&&delete a[m],e((0,Q.Z)({},a))}function f(m,g){a[m]=g,g===""&&delete a[m],o((0,Q.Z)({},a),m)}return(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",rowGap:10},children:v==null?void 0:v.map(function(m){var g=m.id,y=m.title;return(0,t.jsxs)(we.Z,{gutter:[10,10],"data-id":g,children:[y&&(0,t.jsx)(Se.Z,{span:24,children:m.title&&(0,t.jsx)("span",{className:c+"-option-title",children:(0,t.jsx)(j.Z,{html:m.title})})},m.id),(0,t.jsx)(Se.Z,{span:24,children:(0,t.jsx)(Et,{qId:n.id,schema:m,value:a,onChange:function(A){return u(g,A)},onBlur:function(A){return f(g,A)}})})]},g)})})}(0,h.RM)("FillBlank",It,"antdMobile"),(0,h.RM)("MultipleBlank",It,"antdMobile");function Nt(r){var n=r.schema,e=r.onChange,i=r.value,a=i===void 0?{}:i,o=r.onBlur,v=n.children,c=n.attribute,u=c===void 0?{}:c,f=u.content;return!f||!v?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(nt,{schema:n,children:v.filter(function(m){var g;return!((g=m.attribute)!==null&&g!==void 0&&g.fieldInTitle)}),content:f,onBlur:o,onChange:e,value:a})}Nt.Preview=function(r){var n=r.schema,e=r.value,i=n.children,a=n.attribute,o=a===void 0?{}:a,v=o.content;return(0,t.jsx)("div",{className:"preview",children:(0,t.jsx)("div",{children:(0,t.jsx)(j.Z,{html:Ve(v,i,e),replaceP:!1})})})},(0,h.RM)("HorzBlank",Nt,"antdMobile");var jt=s(83279),sn=s(54121),on=s(49101);function ln(r){var n,e=r.schema,i=r.onChange,a=r.value||[{}],o=e.children,v=o===void 0?[]:o,c=e.row,u=c===void 0?[]:c,f=(0,Z.Ck)((n=e.attribute)===null||n===void 0?void 0:n.scope,[1,999]);return(0,t.jsxs)("div",{className:"",children:[a.map(function(m,g){return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:g+1}),(0,t.jsxs)("div",{className:"question-item",style:{background:"#f7f8fa",borderRadius:4,padding:8,position:"relative"},children:[v.map(function(y){return(0,t.jsxs)("div",{className:"option-box",style:{marginBottom:10},children:[(0,t.jsx)("div",{style:{color:"#aaa",fontSize:12,marginBottom:5},children:(0,t.jsx)(j.Z,{html:y.title})}),(0,t.jsx)(Et,{qId:e.id,schema:y,value:m,onChange:function(A){m[y.id]=A,i((0,jt.Z)(a))}})]},y.id)}),a.length>1&&(0,t.jsx)(sn.Z,{onClick:function(){a.splice(g,1),i((0,jt.Z)(a))},style:{position:"absolute",top:-5,right:-5,color:"#ff4d4f"}})]})]},g)}),(0,t.jsx)("div",{children:a.length<f[2]&&(0,t.jsx)(T.Z,{block:!0,icon:(0,t.jsx)(on.Z,{}),type:"dashed",onClick:function(){a.push({}),i((0,jt.Z)(a))},children:"\u7EE7\u7EED\u586B\u5199"})})]})}(0,h.RM)("MatrixAuto",ln,"antdMobile");function cn(r){var n=r.schema,e=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=o===void 0?[]:o,c=n.row,u=c===void 0?[]:c;return(0,t.jsx)("div",{className:"",children:u==null?void 0:u.map(function(f){var m=Object.keys(a[f.id]||{});return(0,t.jsxs)("div",{className:"question-item",children:[(0,t.jsx)("h3",{className:"question-sub-title",children:(0,t.jsx)(j.Z,{html:f.title})}),(0,t.jsx)("div",{className:"checkbtn-group",children:(0,t.jsx)(Ie.Qf,{multiple:!0,value:m,options:v.map(function(g){return{label:g.title,value:g.id}}),onChange:function(y,C){e((0,Q.Z)((0,Q.Z)({},a),{},(0,fe.Z)({},f.id,y.reduce(function(A,x){return A[x]=!0,A},{}))))}})})]},f.id)})})}(0,h.RM)("MatrixCheckbox",cn,"antdMobile");function dn(r){var n=r.schema,e=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=o===void 0?[]:o,c=n.row,u=c===void 0?[]:c;return(0,t.jsx)("div",{className:"",children:u==null?void 0:u.map(function(f){return(0,t.jsxs)("div",{className:"question-item",children:[(0,t.jsx)("h3",{className:"question-sub-title",children:(0,t.jsx)(j.Z,{html:f.title})}),(0,t.jsx)("div",{className:"fillBlank-group",children:v.map(function(m){var g=a[f.id]||{};return(0,t.jsxs)("div",{className:"option-box",style:{marginBottom:10},children:[(0,t.jsx)("div",{style:{color:"#aaa",fontSize:12,marginBottom:5},children:(0,t.jsx)(j.Z,{html:m.title})}),(0,t.jsx)(Et,{qId:n.id,schema:m,value:g,onChange:function(C){var A=a[f.id]||{};e((0,Q.Z)((0,Q.Z)({},a),{},(0,fe.Z)({},f.id,(0,Q.Z)((0,Q.Z)({},A),{},(0,fe.Z)({},m.id,C)))))}})]},m.id)})})]},f.id)})})}(0,h.RM)("MatrixFillBlank",dn,"antdMobile");function un(r){var n=r.schema,e=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=o===void 0?[]:o,c=n.row,u=c===void 0?[]:c;return(0,t.jsx)("div",{className:"",children:u==null?void 0:u.map(function(f){var m=Object.keys(a[f.id]||{})[0];return(0,t.jsxs)("div",{className:"question-item",children:[(0,t.jsx)("h3",{className:"question-sub-title",children:(0,t.jsx)(j.Z,{html:f.title})}),(0,t.jsx)("div",{className:"checkbtn-group",children:(0,t.jsx)(Ie.Qf,{value:m?[m]:void 0,options:v.map(function(g){return{label:g.title,value:g.id}}),onChange:function(y,C){e((0,Q.Z)((0,Q.Z)({},a),{},(0,fe.Z)({},f.id,(0,fe.Z)({},y[0],!0))))}})})]},f.id)})})}(0,h.RM)("MatrixRadio",un,"antdMobile");function vn(r){for(var n=[],e=2;e<r+2;e++)n.push(e/(r+2));return n}function hn(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=[],a=r;a<=n;a++)i.push(a);return e&&i.reverse(),i}function fn(r){var n=r.schema,e=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=o===void 0?[]:o;function c(f,m){e((0,fe.Z)({},f,m))}var u=function(m){var g=m.id,y=a[g],C=vn(y||0),A=m.attribute||{},x=A.scope,E=x===void 0?"[0,10]":x,M=A.npsInvertSort,S=A.npsStart,I=S===void 0?"\u4E0D\u53EF\u80FD":S,k=A.npsEnd,L=k===void 0?"\u6781\u6709\u53EF\u80FD":k,K=E.replace("[","").replace("]","").split(","),z=(0,D.Z)(K,2),te=z[0],ee=z[1];return(0,t.jsxs)("div",{className:"nps",children:[(0,t.jsx)("div",{className:"nps-container",children:hn(parseInt(te),parseInt(ee),M).map(function(Y){var U={background:"#2672ff",opacity:C[Y]};return(0,t.jsx)("div",{className:"nps-item",style:y>=Y?U:void 0,onClick:function(){return c(g,Y)},children:Y},Y)})}),(0,t.jsxs)("div",{className:"nps-tip",children:[(0,t.jsx)("div",{children:M?L:I}),(0,t.jsx)("div",{children:M?I:L})]})]},g)};return(0,t.jsx)(we.Z,{children:v.map(function(f){return u(f)})})}(0,h.RM)("Nps",fn,"antdMobile");var mn=Ee.ZP.Group;function Pt(r){var n,e=r.schema,i=r.onChange,a=r.value,o=a===void 0?{}:a,v=e.children,c=(0,d.AK)("-body-question"),u=!!((n=e.attribute)!==null&&n!==void 0&&n.statEnabled),f=(0,d.Rk)(),m=f.hiddenOption[e.id]||[],g=(0,d.Al)();function y(C,A){i((0,fe.Z)({},C,A||!0))}return(0,l.useEffect)(function(){var C=Object.keys(o)[0];m.includes(C)&&i(void 0)},[m]),(0,l.useEffect)(function(){var C;(C=e.children)===null||C===void 0||C.forEach(function(A){var x,E=A.id,M=A.title,S=A.attribute,I=S==null?void 0:S.dataType;(x=A.attribute)!==null&&x!==void 0&&x.defaultChecked&&Object.keys(o).length===0&&i((0,fe.Z)({},E,I?o[E]:M))})},[]),(0,t.jsx)("div",{children:(0,t.jsx)(mn,{onChange:function(A){},value:Object.keys(o)[0],style:{width:"100%"},children:(0,t.jsx)(we.Z,{children:v==null?void 0:v.filter(function(C){return!m.includes(C.id)}).map(function(C){var A,x,E,M,S=C.id,I=(A=C.attribute)===null||A===void 0?void 0:A.dataType,k=(x=C.attribute)===null||x===void 0?void 0:x.suffix,L=(E=C.attribute)===null||E===void 0?void 0:E.readOnly,K=!1,z=(M=C.attribute)===null||M===void 0?void 0:M.quota;if(z!==void 0){var te,ee=g.statistics,Y=ee==null?void 0:ee.questionStatistics[e.id],U=(Y==null||(te=Y.optionStatistics.find(function(ye){return ye.optionId===S}))===null||te===void 0?void 0:te.count)||0,ve=z-U;ve<=0&&(K=!0)}return(0,t.jsxs)(Se.Z,{span:24,className:c+"-option","data-id":S,children:[(0,t.jsx)(Ct,{qId:e.id,schema:C,value:o[S],disabled:K,onChange:function(pe){return y(S,pe)},onBlur:function(pe){}}),(0,t.jsx)(We,{statEnabled:u,quota:z,checked:!!o[S],optionId:S,questionId:e.id,checkedCount:Object.keys(o).length}),I&&(0,t.jsx)(je,{value:o[S]===!0?"":o[S],type:I,style:{maxWidth:200},onChange:function(pe){return y(S,pe)},readOnly:L,suffix:k&&(0,t.jsx)("span",{className:c+"-option-suffix",children:(0,t.jsx)(j.Z,{html:k})})})]},S)})})})})}(0,h.RM)("Radio",(0,B.Pi)(Pt),"antdMobile"),(0,h.RM)("Judge",(0,B.Pi)(Pt),"antdMobile");function gn(r){var n=(0,d.AK)("-body-question");return(0,t.jsx)("div",{className:n,children:(0,t.jsx)(j.Z,{html:"".concat(r.replaceTitle||r.schema.title||"")})})}(0,h.RM)("Remark",gn,"antdMobile");var zn=s(80116),Kn=s(96433),St=s(2864),Zt=s(41687),xn=s(46870),wt=s(18613),An=s(57206),yn={1:(0,t.jsx)(Zt.Z,{}),2:(0,t.jsx)(Zt.Z,{}),3:(0,t.jsx)(xn.Z,{}),4:(0,t.jsx)(wt.Z,{}),5:(0,t.jsx)(wt.Z,{})};function Cn(r){var n=r.schema,e=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=o===void 0?[]:o;function c(f,m){e((0,fe.Z)({},f,m))}var u=function(m){var g=m.attribute||{},y=m.id,C=g.scope,A=C===void 0?"[0,5]":C,x=g.scoreStyle,E=A.replace("[","").replace("]","").split(","),M=(0,D.Z)(E,2),S=M[0],I=M[1];return x==="heart"?(0,t.jsx)(St.Z,{defaultValue:parseInt(S),character:(0,t.jsx)(An.Z,{}),style:{color:"#ea7463"},count:parseInt(I),onChange:function(L){return c(y,L)}},y):x==="smile"?(0,t.jsx)(St.Z,{defaultValue:parseInt(S),character:function(L){var K=L.index;return yn[K+1]},count:parseInt(I),onChange:function(L){return c(y,L)}},y):(0,t.jsx)(St.Z,{defaultValue:parseInt(S),count:parseInt(I),onChange:function(L){return c(y,L)}},y)};return(0,t.jsx)(we.Z,{children:v.map(function(f){return u(f)})})}(0,h.RM)("Score",Cn,"antdMobile");function En(r){var n,e=r.schema,i=r.onChange,a=r.value,o=a===void 0?{}:a;function v(c){var u,f=(u=e.children)===null||u===void 0?void 0:u.find(function(m){return m.id===c});f&&i((0,fe.Z)({},c,!0))}return(0,l.useEffect)(function(){var c;(c=e.children)===null||c===void 0||c.forEach(function(u){var f,m=u.id;(f=u.attribute)!==null&&f!==void 0&&f.defaultChecked&&Object.keys(o).length===0&&i((0,fe.Z)({},m,!0))})},[]),(0,t.jsx)(we.Z,{children:(0,t.jsx)(Se.Z,{span:24,children:(0,t.jsx)(Me,{value:Object.keys(o)[0],onChange:v,options:((n=e.children)===null||n===void 0?void 0:n.map(function(c){return{label:c.title,value:c.id}}))||[]})})})}(0,h.RM)("Select",En,"antdMobile");var Hn=s(34669),pn=s(82833);function jn(r){var n=r.schema,e=r.onChange,i=n.children,a=(0,d.Al)(),o=(0,l.useState)(0),v=(0,D.Z)(o,2),c=v[0],u=v[1];function f(m,g){var y="signature-".concat(g,"-").concat((0,Z.kb)(6),".png");if(!a.onUpload){e((0,fe.Z)({},g,[y]));return}fetch(m).then(function(C){return C.blob()}).then(function(C){var A=new File([C],y,{type:"image/png"});a.onUpload({file:A,questionId:n.id,projectId:a.schema.id},function(x){u(x.loaded/x.total*100)}).then(function(x){x.success&&x.data.id&&e((0,fe.Z)({},g,[x.data.id]))})})}return(0,t.jsx)("div",{children:i==null?void 0:i.map(function(m){var g=m.id,y=m.title;return(0,t.jsxs)(we.Z,{gutter:[10,0],"data-id":g,children:[y&&(0,t.jsx)(Se.Z,{span:24},m.id),(0,t.jsxs)(Se.Z,{span:24,children:[(0,t.jsx)(rt,{onChange:function(A){return f(A,g)}}),c>0&&c!==100&&(0,t.jsx)(pn.Z,{percent:c,size:"small",showInfo:!1})]})]},g)})})}(0,h.RM)("Signature",jn,"antdMobile");var Sn=function(n){var e=n.value,i;return e&&(i=Object.values(e)[0][0]),(0,t.jsx)("div",{className:"preview signature-print",children:i&&(0,t.jsx)("img",{src:"/api/file?id=".concat(i)})})};(0,h.cf)("Signature",Sn,"antdMobile");var Un=s(48736),kt=s(27049);function bn(r){var n=(0,d.AK)("-body-question");return(0,t.jsx)("div",{className:n,children:(0,t.jsx)(kt.Z,{plain:!0})})}(0,h.RM)("SplitLine",bn,"antdMobile");function Mn(r){var n=r.schema,e=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=(0,d.AK)("-body-question");function c(u,f){a[u]=f,f===""&&delete a[u],e((0,Q.Z)({},a))}return(0,t.jsx)("div",{children:o==null?void 0:o.map(function(u){var f=u.id,m=u.attribute,g=u.title,y=(0,Z.Ck)(m==null?void 0:m.autoSize,[2,4]);return(0,t.jsxs)(we.Z,{style:{marginBottom:10},"data-id":f,children:[g&&(0,t.jsx)(Se.Z,{className:v+"-option",span:4,children:u.title&&(0,t.jsx)("span",{className:v+"-option-title",children:u.title})},u.id),(0,t.jsx)(Se.Z,{span:24,children:(0,t.jsx)(F.Z.TextArea,{autoSize:{minRows:y[1],maxRows:y[2]},value:a[f]||"",onChange:function(A){return c(f,A.target.value)}})})]},f)})})}(0,h.RM)("Textarea",Mn,"antdMobile");var Bn=s(43347),Dn=mt.Z.Dragger;function In(r){var n=r.schema,e=r.onChange,i=r.value,a=r.readOnly,o=n.children,v=(0,d.Al)(),c=(0,l.useState)(),u=(0,D.Z)(c,2),f=u[0],m=u[1];(0,l.useEffect)(function(){var C=n.children[0].id,A=i&&i[C]||[];f==null&&A.length>0&&xt.hi.loadFiles({ids:A}).then(function(x){m(x==null?void 0:x.map(function(E){return{name:E.originalName,uid:E.id,status:"done"}}))})},[i]);var g=function(){var C=(0,Dt.Z)((0,gt.Z)().mark(function A(x){var E,M,S,I;return(0,gt.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:E=x.onSuccess,M=x.onError,S=x.file,I=x.onProgress,v.onUpload&&v.onUpload({file:S},function(K){I&&I({percent:K.loaded/K.total*100})}).then(function(K){if(K.success&&E&&E(K.data),!K.success&&M){var z=new Error("Some error");M({event:z})}});case 2:case"end":return L.stop()}},A)}));return function(x){return C.apply(this,arguments)}}(),y=function(A,x){if(m(A.fileList),(A.file.status==="removed"||A.file.status==="done")&&!A.fileList.find(function(M){return M.status!=="done"})){var E=A.fileList.filter(function(M){return M.status==="done"}).map(function(M){var S;return((S=M.response)===null||S===void 0?void 0:S.id)||M.uid});E.length===0?e(void 0):e((0,fe.Z)({},x,E))}};return(0,t.jsx)("div",{children:o==null?void 0:o.map(function(C){var A=C.id,x=C.attribute,E=x===void 0?{}:x,M=[],S=E.maxFileCount,I=E.maxFileSize,k=E.fileAccept,L=E.cameraOnly;return S&&M.push("\u6700\u591A\u4E0A\u4F20".concat(S,"\u4E2A")),I&&M.push("\u9650\u5236\u6BCF\u4E2A\u6587\u4EF6".concat(I,"M\u4EE5\u5185")),k&&M.push("\u4EC5\u652F\u6301\u6587\u4EF6\u7C7B\u578B\uFF1A".concat(k)),(0,t.jsxs)(Dn,{multiple:!0,capture:L?"environment":void 0,disabled:a,maxCount:(E==null?void 0:E.maxFileCount)||20,accept:L?"image/*":void 0,beforeUpload:function(z){return E!=null&&E.maxFileSize&&z.size>E.maxFileSize*1024*1024?(Bt.default.error("\u6700\u5927\u53EA\u80FD\u4E0A\u4F20 ".concat(E.maxFileSize,"M \u5927\u5C0F\u7684\u6587\u4EF6")),mt.Z.LIST_IGNORE):!0},customRequest:g,onChange:function(z){return y(z,A)},fileList:f,children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(Bn.Z,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"\u9009\u62E9\u6216\u62D6\u62FD\u4E0A\u4F20\u6587\u4EF6"}),(0,t.jsx)("p",{className:"ant-upload-hint",style:{whiteSpace:"pre-line",wordBreak:"break-word",textAlign:"center"},children:M.join(",")})]},A)})})}(0,h.RM)("Upload",In,"antdMobile");var Nn=s(55686),Pn=de.Z.Option;function Zn(r){var n=r.schema,e=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=o===void 0?[]:o,c=v[0].id,u=(0,l.useState)([]),f=(0,D.Z)(u,2),m=f[0],g=f[1];function y(x){c&&e((0,fe.Z)({},c,x))}var C=(0,xt.zE)(function(x){xt.hi.userSelect({name:x,selected:a[c]||[]}).then(function(E){E.success&&g(E.data)})},5),A=function(E){y(E?m.map(function(M){return M.userId}):void 0)};return(0,l.useEffect)(function(){var x;C(""),(x=n.children)===null||x===void 0||x.forEach(function(E){var M,S=E.id;(M=E.attribute)!==null&&M!==void 0&&M.defaultChecked&&Object.keys(a).length===0&&e((0,fe.Z)({},S,!0))})},[]),(0,t.jsx)(we.Z,{children:(0,t.jsx)(Se.Z,{span:24,children:(0,t.jsx)(de.Z,{placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,filterOption:!1,mode:"multiple",onClear:function(){e(void 0)},value:a[c]||[],onSearch:C,showSearch:!0,onChange:y,dropdownRender:function(E){return(0,t.jsxs)("div",{children:[E,(0,t.jsx)(kt.Z,{style:{margin:"4px 0"}}),(0,t.jsx)("div",{style:{display:"flex",flexWrap:"nowrap",paddingLeft:10},children:(0,t.jsx)(Mt.Z,{onChange:function(S){A(S.target.checked)},children:"\u5168\u9009"})})]})},children:m.map(function(x){return(0,t.jsx)(Pn,{value:x.userId,label:x.name,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{role:"img",style:{marginRight:10},children:(0,t.jsx)(Nn.Z,{user:x,size:20})}),x.name," ",x.deptName&&"(".concat(x.deptName,")")]})},x.userId)})})})})}(0,h.RM)("User",Zn,"antdMobile");var wn=function(n){return(0,t.jsx)(t.Fragment,{children:n.children})},kn=wn;(0,Z.RM)("RichText",(0,l.lazy)(function(){return Promise.resolve().then(s.bind(s,80116))}),"antdMobile"),(0,Z.cf)("Upload",(0,l.lazy)(function(){return Promise.all([s.e(4502),s.e(858)]).then(s.bind(s,90858))}),"antdMobile")},80116:function(ne,W,s){"use strict";s.r(W);var P=s(32059),w=s(94657),D=s(70811),Z=s(3980),j=s(67294),B=s(54707),l=s(85893);function d(h){var p=h.schema,b=h.onChange,t=h.value,O=t===void 0?{}:t,H=h.onBlur,J=p.children,T=(0,B.AK)("-body-question"),N=(0,j.useState)(O[p.children[0].id]),ce=(0,w.Z)(N,2),F=ce[0],Q=ce[1],ae=(0,B.Rk)(),de=(0,j.useCallback)(function(ie,ue){b((0,P.Z)({},ie,ue))},[]);return(0,l.jsx)("div",{children:J==null?void 0:J.map(function(ie){var ue=ie.id;return(0,l.jsx)(D.Mf,{value:F,onChange:function(xe){return de(ue,xe)},onUpload:function(xe){return Z.hi.upload("/api/public/upload",{fileType:4,basePath:ae.schema.id,file:xe})}},ie.id)})})}W.default=d},55686:function(ne,W,s){"use strict";var P=s(11849),w=s(94233),D=s(51890),Z=s(93224),j=s(89366),B=s(85893),l=["user"],d=function(p){var b=p.user,t=(0,Z.Z)(p,l);return!b||!b.avatar?(0,B.jsx)(D.C,(0,P.Z)({icon:(0,B.jsx)(j.Z,{}),size:t.size||"small"},t)):(0,B.jsx)(D.C,(0,P.Z)({src:"/api/public/preview/".concat(b.avatar),size:t.size||"small"},t))};W.Z=d},78210:function(ne,W,s){"use strict";var P=s(12968),w=s(62462),D=s(27856),Z=s.n(D),j=s(15020),B=s(85893),l=function(h){var p=h.html,b=p===void 0?"":p,t=h.replaceP,O=t===void 0?!0:t;return O?(0,B.jsx)("div",{className:"pe-view",children:typeof b=="string"&&(0,j.ZP)(Z().sanitize(b,{ADD_TAGS:["iframe"],ADD_ATTR:["allow","allowfullscreen","frameborder","scrolling"]}).replace(/<p>/,"<span>").replace(/<\/p>/,"</span>"),{replace:function(J){if((J==null?void 0:J.name)==="img"){var T=J.attribs.width;return(0,B.jsx)(w.Z,{width:T?parseFloat(T):void 0,src:J.attribs.src,style:{cursor:"zoom-in"},fallback:"data:image/png;base64,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",preview:{mask:!1}})}return J}})}):(0,B.jsx)(B.Fragment,{children:typeof b=="string"&&(0,j.ZP)(Z().sanitize(b))})};W.Z=l},81643:function(ne,W,s){"use strict";s.d(W,{Z:function(){return P}});var P=function(D){if(!D)return null;var Z=typeof D=="function";return Z?D():D}},9715:function(ne,W,s){"use strict";var P=s(38663),w=s.n(P),D=s(34442),Z=s.n(D),j=s(6999),B=s(22385)},55241:function(ne,W,s){"use strict";var P=s(22122),w=s(67294),D=s(53124),Z=s(94199),j=s(81643),B=s(33603),l=function(p,b){var t={};for(var O in p)Object.prototype.hasOwnProperty.call(p,O)&&b.indexOf(O)<0&&(t[O]=p[O]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var H=0,O=Object.getOwnPropertySymbols(p);H<O.length;H++)b.indexOf(O[H])<0&&Object.prototype.propertyIsEnumerable.call(p,O[H])&&(t[O[H]]=p[O[H]]);return t},d=function(b){var t=b.title,O=b.content,H=b.prefixCls;return!t&&!O?null:w.createElement(w.Fragment,null,t&&w.createElement("div",{className:"".concat(H,"-title")},(0,j.Z)(t)),w.createElement("div",{className:"".concat(H,"-inner-content")},(0,j.Z)(O)))},h=w.forwardRef(function(p,b){var t=p.prefixCls,O=p.title,H=p.content,J=p._overlay,T=p.placement,N=T===void 0?"top":T,ce=p.trigger,F=ce===void 0?"hover":ce,Q=p.mouseEnterDelay,ae=Q===void 0?.1:Q,de=p.mouseLeaveDelay,ie=de===void 0?.1:de,ue=p.overlayStyle,Ce=ue===void 0?{}:ue,xe=l(p,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),je=w.useContext(D.E_),be=je.getPrefixCls,Me=be("popover",t),Be=be();return w.createElement(Z.Z,(0,P.Z)({placement:N,trigger:F,mouseEnterDelay:ae,mouseLeaveDelay:ie,overlayStyle:Ce},xe,{prefixCls:Me,ref:b,overlay:J||w.createElement(d,{prefixCls:Me,title:O,content:H}),transitionName:(0,B.mL)(Be,"zoom-big",xe.transitionName)}))});W.Z=h},20136:function(ne,W,s){"use strict";var P=s(38663),w=s.n(P),D=s(31930),Z=s.n(D)},32138:function(ne,W,s){"use strict";s.d(W,{Z:function(){return Ae}});var P=s(96156),w=s(90484),D=s(22122),Z=s(28991),j=s(67294),B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},l=B,d=s(27029),h=function(_,X){return j.createElement(d.Z,(0,Z.Z)((0,Z.Z)({},_),{},{ref:X,icon:l}))};h.displayName="HolderOutlined";var p=j.forwardRef(h),b=s(94184),t=s.n(b),O=s(83179),H=s(53124),J=s(33603),T=s(85061),N=s(28481),ce=s(86504),F=s(91816),Q=s(63258),ae=s(10225),de=s(1089),ie;(function(R){R[R.None=0]="None",R[R.Start=1]="Start",R[R.End=2]="End"})(ie||(ie={}));function ue(R,_){function X(G){var q=G.key,he=G.children;_(q,G)!==!1&&ue(he||[],_)}R.forEach(X)}function Ce(R){var _=R.treeData,X=R.expandedKeys,G=R.startKey,q=R.endKey,he=[],$=ie.None;if(G&&G===q)return[G];if(!G||!q)return[];function De(ge){return ge===G||ge===q}return ue(_,function(ge){if($===ie.End)return!1;if(De(ge)){if(he.push(ge),$===ie.None)$=ie.Start;else if($===ie.Start)return $=ie.End,!1}else $===ie.Start&&he.push(ge);return X.indexOf(ge)!==-1}),he}function xe(R,_){var X=(0,T.Z)(_),G=[];return ue(R,function(q,he){var $=X.indexOf(q);return $!==-1&&(G.push(he),X.splice($,1)),!!X.length}),G}var je=function(R,_){var X={};for(var G in R)Object.prototype.hasOwnProperty.call(R,G)&&_.indexOf(G)<0&&(X[G]=R[G]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,G=Object.getOwnPropertySymbols(R);q<G.length;q++)_.indexOf(G[q])<0&&Object.prototype.propertyIsEnumerable.call(R,G[q])&&(X[G[q]]=R[G[q]]);return X};function be(R){var _=R.isLeaf,X=R.expanded;return _?j.createElement(ce.Z,null):X?j.createElement(F.Z,null):j.createElement(Q.Z,null)}function Me(R){var _=R.treeData,X=R.children;return _||(0,de.zn)(X)}var Be=function(_,X){var G=_.defaultExpandAll,q=_.defaultExpandParent,he=_.defaultExpandedKeys,$=je(_,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),De=j.useRef(),ge=j.useRef(),Ie=j.createRef();j.useImperativeHandle(X,function(){return Ie.current});var Ne=function(){var Je=(0,de.I8)(Me($)),Te=Je.keyEntities,Ee;return G?Ee=Object.keys(Te):q?Ee=(0,ae.r7)($.expandedKeys||he||[],Te):Ee=$.expandedKeys||he,Ee},Ge=j.useState($.selectedKeys||$.defaultSelectedKeys||[]),Pe=(0,N.Z)(Ge,2),_e=Pe[0],Ke=Pe[1],rt=j.useState(function(){return Ne()}),He=(0,N.Z)(rt,2),Ue=He[0],We=He[1];j.useEffect(function(){"selectedKeys"in $&&Ke($.selectedKeys)},[$.selectedKeys]),j.useEffect(function(){"expandedKeys"in $&&We($.expandedKeys)},[$.expandedKeys]);var Xe=function(Je,Te){var Ee;return"expandedKeys"in $||We(Je),(Ee=$.onExpand)===null||Ee===void 0?void 0:Ee.call($,Je,Te)},Re=function(Je,Te){var Ee,dt=$.multiple,ht=Te.node,Qe=Te.nativeEvent,ft=ht.key,tt=ft===void 0?"":ft,$e=Me($),Ve=(0,D.Z)((0,D.Z)({},Te),{selected:!0}),nt=(Qe==null?void 0:Qe.ctrlKey)||(Qe==null?void 0:Qe.metaKey),Ct=Qe==null?void 0:Qe.shiftKey,Oe;dt&&nt?(Oe=Je,De.current=tt,ge.current=Oe,Ve.selectedNodes=xe($e,Oe)):dt&&Ct?(Oe=Array.from(new Set([].concat((0,T.Z)(ge.current||[]),(0,T.Z)(Ce({treeData:$e,expandedKeys:Ue,startKey:tt,endKey:De.current}))))),Ve.selectedNodes=xe($e,Oe)):(Oe=[tt],De.current=tt,ge.current=Oe,Ve.selectedNodes=xe($e,Oe)),(Ee=$.onSelect)===null||Ee===void 0||Ee.call($,Oe,Ve),"selectedKeys"in $||Ke(Oe)},Ye=j.useContext(H.E_),qe=Ye.getPrefixCls,ke=Ye.direction,st=$.prefixCls,ot=$.className,Ze=$.showIcon,lt=Ze===void 0?!0:Ze,et=$.expandAction,bt=et===void 0?"click":et,At=je($,["prefixCls","className","showIcon","expandAction"]),ct=qe("tree",st),yt=t()("".concat(ct,"-directory"),(0,P.Z)({},"".concat(ct,"-directory-rtl"),ke==="rtl"),ot);return j.createElement(le,(0,D.Z)({icon:be,ref:Ie,blockNode:!0},At,{showIcon:lt,expandAction:bt,prefixCls:ct,className:yt,expandedKeys:Ue,selectedKeys:_e,onSelect:Re,onExpand:Xe}))},ze=j.forwardRef(Be),V=ze,re=4;function se(R){var _,X=R.dropPosition,G=R.dropLevelOffset,q=R.prefixCls,he=R.indent,$=R.direction,De=$===void 0?"ltr":$,ge=De==="ltr"?"left":"right",Ie=De==="ltr"?"right":"left",Ne=(_={},(0,P.Z)(_,ge,-G*he+re),(0,P.Z)(_,Ie,0),_);switch(X){case-1:Ne.top=-3;break;case 1:Ne.bottom=-3;break;default:Ne.bottom=-3,Ne[ge]=he+re;break}return j.createElement("div",{style:Ne,className:"".concat(q,"-drop-indicator")})}var me=s(6324),oe=j.forwardRef(function(R,_){var X,G=j.useContext(H.E_),q=G.getPrefixCls,he=G.direction,$=G.virtual,De=R.prefixCls,ge=R.className,Ie=R.showIcon,Ne=Ie===void 0?!1:Ie,Ge=R.showLine,Pe=R.switcherIcon,_e=R.blockNode,Ke=_e===void 0?!1:_e,rt=R.children,He=R.checkable,Ue=He===void 0?!1:He,We=R.selectable,Xe=We===void 0?!0:We,Re=R.draggable,Ye=R.motion,qe=Ye===void 0?(0,D.Z)((0,D.Z)({},J.ZP),{motionAppear:!1}):Ye,ke=q("tree",De),st=(0,D.Z)((0,D.Z)({},R),{checkable:Ue,selectable:Xe,showIcon:Ne,motion:qe,blockNode:Ke,showLine:Boolean(Ge),dropIndicatorRender:se}),ot=j.useMemo(function(){if(!Re)return!1;var Ze={};switch((0,w.Z)(Re)){case"function":Ze.nodeDraggable=Re;break;case"object":Ze=(0,D.Z)({},Re);break;default:break}return Ze.icon!==!1&&(Ze.icon=Ze.icon||j.createElement(p,null)),Ze},[Re]);return j.createElement(O.Z,(0,D.Z)({itemHeight:20,ref:_,virtual:$},st,{prefixCls:ke,className:t()((X={},(0,P.Z)(X,"".concat(ke,"-icon-hide"),!Ne),(0,P.Z)(X,"".concat(ke,"-block-node"),Ke),(0,P.Z)(X,"".concat(ke,"-unselectable"),!Xe),(0,P.Z)(X,"".concat(ke,"-rtl"),he==="rtl"),X),ge),direction:he,checkable:Ue&&j.createElement("span",{className:"".concat(ke,"-checkbox-inner")}),selectable:Xe,switcherIcon:function(lt){return(0,me.Z)(ke,Pe,Ge,lt)},draggable:ot}),rt)});oe.TreeNode=O.O,oe.DirectoryTree=V;var le=oe,Ae=le},32157:function(ne,W,s){"use strict";var P=s(38663),w=s.n(P),D=s(16695),Z=s.n(D)},18446:function(ne,W,s){var P=s(90939);function w(D,Z){return P(D,Z)}ne.exports=w},18601:function(ne,W,s){var P=s(14841),w=1/0,D=17976931348623157e292;function Z(j){if(!j)return j===0?j:0;if(j=P(j),j===w||j===-w){var B=j<0?-1:1;return B*D}return j===j?j:0}ne.exports=Z},40554:function(ne,W,s){var P=s(18601);function w(D){var Z=P(D),j=Z%1;return Z===Z?j?Z-j:Z:0}ne.exports=w},17672:function(ne,W,s){"use strict";s.d(W,{Z:function(){return j}});/*!
 * Signature Pad v4.0.4 | https://github.com/szimek/signature_pad
 * (c) 2022 Szymon Nowak | Released under the MIT license
 */class P{constructor(l,d,h,p){if(isNaN(l)||isNaN(d))throw new Error(`Point is invalid: (${l}, ${d})`);this.x=+l,this.y=+d,this.pressure=h||0,this.time=p||Date.now()}distanceTo(l){return Math.sqrt(Math.pow(this.x-l.x,2)+Math.pow(this.y-l.y,2))}equals(l){return this.x===l.x&&this.y===l.y&&this.pressure===l.pressure&&this.time===l.time}velocityFrom(l){return this.time!==l.time?this.distanceTo(l)/(this.time-l.time):0}}class w{constructor(l,d,h,p,b,t){this.startPoint=l,this.control2=d,this.control1=h,this.endPoint=p,this.startWidth=b,this.endWidth=t}static fromPoints(l,d){const h=this.calculateControlPoints(l[0],l[1],l[2]).c2,p=this.calculateControlPoints(l[1],l[2],l[3]).c1;return new w(l[1],h,p,l[2],d.start,d.end)}static calculateControlPoints(l,d,h){const p=l.x-d.x,b=l.y-d.y,t=d.x-h.x,O=d.y-h.y,H={x:(l.x+d.x)/2,y:(l.y+d.y)/2},J={x:(d.x+h.x)/2,y:(d.y+h.y)/2},T=Math.sqrt(p*p+b*b),N=Math.sqrt(t*t+O*O),ce=H.x-J.x,F=H.y-J.y,Q=N/(T+N),ae={x:J.x+ce*Q,y:J.y+F*Q},de=d.x-ae.x,ie=d.y-ae.y;return{c1:new P(H.x+de,H.y+ie),c2:new P(J.x+de,J.y+ie)}}length(){const l=10;let d=0,h,p;for(let b=0;b<=l;b+=1){const t=b/l,O=this.point(t,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),H=this.point(t,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(b>0){const J=O-h,T=H-p;d+=Math.sqrt(J*J+T*T)}h=O,p=H}return d}point(l,d,h,p,b){return d*(1-l)*(1-l)*(1-l)+3*h*(1-l)*(1-l)*l+3*p*(1-l)*l*l+b*l*l*l}}class D{constructor(){try{this._et=new EventTarget}catch(l){this._et=document}}addEventListener(l,d,h){this._et.addEventListener(l,d,h)}dispatchEvent(l){return this._et.dispatchEvent(l)}removeEventListener(l,d,h){this._et.removeEventListener(l,d,h)}}function Z(B,l=250){let d=0,h=null,p,b,t;const O=()=>{d=Date.now(),h=null,p=B.apply(b,t),h||(b=null,t=[])};return function(...J){const T=Date.now(),N=l-(T-d);return b=this,t=J,N<=0||N>l?(h&&(clearTimeout(h),h=null),d=T,p=B.apply(b,t),h||(b=null,t=[])):h||(h=window.setTimeout(O,N)),p}}class j extends D{constructor(l,d={}){super();this.canvas=l,this._handleMouseDown=h=>{h.buttons===1&&(this._drawningStroke=!0,this._strokeBegin(h))},this._handleMouseMove=h=>{this._drawningStroke&&this._strokeMoveUpdate(h)},this._handleMouseUp=h=>{h.buttons===1&&this._drawningStroke&&(this._drawningStroke=!1,this._strokeEnd(h))},this._handleTouchStart=h=>{if(h.preventDefault(),h.targetTouches.length===1){const p=h.changedTouches[0];this._strokeBegin(p)}},this._handleTouchMove=h=>{h.preventDefault();const p=h.targetTouches[0];this._strokeMoveUpdate(p)},this._handleTouchEnd=h=>{if(h.target===this.canvas){h.preventDefault();const b=h.changedTouches[0];this._strokeEnd(b)}},this._handlePointerStart=h=>{this._drawningStroke=!0,h.preventDefault(),this._strokeBegin(h)},this._handlePointerMove=h=>{this._drawningStroke&&(h.preventDefault(),this._strokeMoveUpdate(h))},this._handlePointerEnd=h=>{this._drawningStroke&&(h.preventDefault(),this._drawningStroke=!1,this._strokeEnd(h))},this.velocityFilterWeight=d.velocityFilterWeight||.7,this.minWidth=d.minWidth||.5,this.maxWidth=d.maxWidth||2.5,this.throttle="throttle"in d?d.throttle:16,this.minDistance="minDistance"in d?d.minDistance:5,this.dotSize=d.dotSize||0,this.penColor=d.penColor||"black",this.backgroundColor=d.backgroundColor||"rgba(0,0,0,0)",this._strokeMoveUpdate=this.throttle?Z(j.prototype._strokeUpdate,this.throttle):j.prototype._strokeUpdate,this._ctx=l.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:l,canvas:d}=this;l.fillStyle=this.backgroundColor,l.clearRect(0,0,d.width,d.height),l.fillRect(0,0,d.width,d.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(l,d={}){return new Promise((h,p)=>{const b=new Image,t=d.ratio||window.devicePixelRatio||1,O=d.width||this.canvas.width/t,H=d.height||this.canvas.height/t,J=d.xOffset||0,T=d.yOffset||0;this._reset(),b.onload=()=>{this._ctx.drawImage(b,J,T,O,H),h()},b.onerror=N=>{p(N)},b.crossOrigin="anonymous",b.src=l,this._isEmpty=!1})}toDataURL(l="image/png",d){switch(l){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(l,d)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const l=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!l?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(l,{clear:d=!0}={}){d&&this.clear(),this._fromData(l,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(l)}toData(){return this._data}_strokeBegin(l){this.dispatchEvent(new CustomEvent("beginStroke",{detail:l}));const d={dotSize:this.dotSize,minWidth:this.minWidth,maxWidth:this.maxWidth,penColor:this.penColor,points:[]};this._data.push(d),this._reset(),this._strokeUpdate(l)}_strokeUpdate(l){if(this._data.length===0){this._strokeBegin(l);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:l}));const d=l.clientX,h=l.clientY,p=l.pressure!==void 0?l.pressure:l.force!==void 0?l.force:0,b=this._createPoint(d,h,p),t=this._data[this._data.length-1],O=t.points,H=O.length>0&&O[O.length-1],J=H?b.distanceTo(H)<=this.minDistance:!1,{penColor:T,dotSize:N,minWidth:ce,maxWidth:F}=t;if(!H||!(H&&J)){const Q=this._addPoint(b);H?Q&&this._drawCurve(Q,{penColor:T,dotSize:N,minWidth:ce,maxWidth:F}):this._drawDot(b,{penColor:T,dotSize:N,minWidth:ce,maxWidth:F}),O.push({time:b.time,x:b.x,y:b.y,pressure:b.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:l}))}_strokeEnd(l){this._strokeUpdate(l),this.dispatchEvent(new CustomEvent("endStroke",{detail:l}))}_handlePointerEvents(){this._drawningStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),document.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawningStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(l,d,h){const p=this.canvas.getBoundingClientRect();return new P(l-p.left,d-p.top,h,new Date().getTime())}_addPoint(l){const{_lastPoints:d}=this;if(d.push(l),d.length>2){d.length===3&&d.unshift(d[0]);const h=this._calculateCurveWidths(d[1],d[2]),p=w.fromPoints(d,h);return d.shift(),p}return null}_calculateCurveWidths(l,d){const h=this.velocityFilterWeight*d.velocityFrom(l)+(1-this.velocityFilterWeight)*this._lastVelocity,p=this._strokeWidth(h),b={end:p,start:this._lastWidth};return this._lastVelocity=h,this._lastWidth=p,b}_strokeWidth(l){return Math.max(this.maxWidth/(l+1),this.minWidth)}_drawCurveSegment(l,d,h){const p=this._ctx;p.moveTo(l,d),p.arc(l,d,h,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(l,d){const h=this._ctx,p=l.endWidth-l.startWidth,b=Math.ceil(l.length())*2;h.beginPath(),h.fillStyle=d.penColor;for(let t=0;t<b;t+=1){const O=t/b,H=O*O,J=H*O,T=1-O,N=T*T,ce=N*T;let F=ce*l.startPoint.x;F+=3*N*O*l.control1.x,F+=3*T*H*l.control2.x,F+=J*l.endPoint.x;let Q=ce*l.startPoint.y;Q+=3*N*O*l.control1.y,Q+=3*T*H*l.control2.y,Q+=J*l.endPoint.y;const ae=Math.min(l.startWidth+J*p,d.maxWidth);this._drawCurveSegment(F,Q,ae)}h.closePath(),h.fill()}_drawDot(l,d){const h=this._ctx,p=d.dotSize>0?d.dotSize:(d.minWidth+d.maxWidth)/2;h.beginPath(),this._drawCurveSegment(l.x,l.y,p),h.closePath(),h.fillStyle=d.penColor,h.fill()}_fromData(l,d,h){for(const p of l){const{penColor:b,dotSize:t,minWidth:O,maxWidth:H,points:J}=p;if(J.length>1)for(let T=0;T<J.length;T+=1){const N=J[T],ce=new P(N.x,N.y,N.pressure,N.time);this.penColor=b,T===0&&this._reset();const F=this._addPoint(ce);F&&d(F,{penColor:b,dotSize:t,minWidth:O,maxWidth:H})}else this._reset(),h(J[0],{penColor:b,dotSize:t,minWidth:O,maxWidth:H})}}_toSVG(){const l=this._data,d=Math.max(window.devicePixelRatio||1,1),h=0,p=0,b=this.canvas.width/d,t=this.canvas.height/d,O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.setAttribute("width",this.canvas.width.toString()),O.setAttribute("height",this.canvas.height.toString()),this._fromData(l,(F,{penColor:Q})=>{const ae=document.createElement("path");if(!isNaN(F.control1.x)&&!isNaN(F.control1.y)&&!isNaN(F.control2.x)&&!isNaN(F.control2.y)){const de=`M ${F.startPoint.x.toFixed(3)},${F.startPoint.y.toFixed(3)} C ${F.control1.x.toFixed(3)},${F.control1.y.toFixed(3)} ${F.control2.x.toFixed(3)},${F.control2.y.toFixed(3)} ${F.endPoint.x.toFixed(3)},${F.endPoint.y.toFixed(3)}`;ae.setAttribute("d",de),ae.setAttribute("stroke-width",(F.endWidth*2.25).toFixed(3)),ae.setAttribute("stroke",Q),ae.setAttribute("fill","none"),ae.setAttribute("stroke-linecap","round"),O.appendChild(ae)}},(F,{penColor:Q,dotSize:ae,minWidth:de,maxWidth:ie})=>{const ue=document.createElement("circle"),Ce=ae>0?ae:(de+ie)/2;ue.setAttribute("r",Ce.toString()),ue.setAttribute("cx",F.x.toString()),ue.setAttribute("cy",F.y.toString()),ue.setAttribute("fill",Q),O.appendChild(ue)});const H="data:image/svg+xml;base64,",J=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="${h} ${p} ${this.canvas.width} ${this.canvas.height}" width="${b}" height="${t}">`;let T=O.innerHTML;if(T===void 0){const F=document.createElement("dummy"),Q=O.childNodes;F.innerHTML="";for(let ae=0;ae<Q.length;ae+=1)F.appendChild(Q[ae].cloneNode(!0));T=F.innerHTML}const N="</svg>",ce=J+T+N;return H+btoa(ce)}}}}]);
